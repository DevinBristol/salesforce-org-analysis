@isTest
public with sharing class CompanyCamAPITest {
    static void enableTestMode() {
        CompanyCamAPI.isTestExecution = true;
    }
    @testSetup
    static void setupTestData() {
        // Create a test property with proper address field assignments
        // Create a test account
        Account testAccount = new Account(
                Name = 'Test Account'
        );
        insert testAccount;
        Property__c testProperty = new Property__c(
                Name = 'Test Property',
                Address__Street__s = '420 Test St',
                Address__City__s = 'Test City',
                Address__StateCode__s = 'NE',
                Address__PostalCode__s = '12345',
                Address__CountryCode__s = 'US',
                Address__Longitude__s = Decimal.valueOf('-96.84100439999999'),
                Address__Latitude__s = Decimal.valueOf('43.4430416')
        );
        insert testProperty;
        // Create a test opportunity linked to the property
        Opportunity testOpportunity = new Opportunity(
                Name = 'Test Opportunity',
                StageName = 'Prospecting',
                CloseDate = System.today().addDays(30),
                Opportunity_Property__c = testProperty.Id,
                AccountId = testAccount.Id // Linking the Opportunity to the Account

                );
        insert testOpportunity;
    }
    @isTest
    static void testMakeCompanyCamProjectBody() {
        // Step 1: Setup Test Data
        // Step 2: Retrieve the inserted test Opportunity
        Opportunity testOpportunity = [SELECT Id, Name,AccountId, StageName, CloseDate,
                Opportunity_Property__r.Address__Street__s,
                Opportunity_Property__r.Address__City__s,
                Opportunity_Property__r.Address__StateCode__s,
                Opportunity_Property__r.Address__PostalCode__s,
                Opportunity_Property__r.Address__CountryCode__s,
                Opportunity_Property__r.Address__c
        FROM Opportunity
        LIMIT 1];
        // Step 3: Call the method
        String requestBody = CompanyCamAPI.MakeCompanyCamProjectBody(testOpportunity);
        // Step 4: Deserialize and validate the response
        Map<String, Object> responseMap = (Map<String, Object>) JSON.deserializeUntyped(requestBody);
        System.assertNotEquals(null, responseMap, 'Response map should not be null');
        System.assertEquals(testOpportunity.Name, responseMap.get('name'), 'Opportunity name should match');
        Map<String,Object> addressMap = (Map<String, Object>) responseMap.get('address');
        System.assertEquals(testOpportunity.Opportunity_Property__r.Address__Street__s, addressMap.get('street_address_1'), 'Street should match');
        System.assertEquals(testOpportunity.Opportunity_Property__r.Address__City__s, addressMap.get('city'), 'City should match');
        System.assertEquals(testOpportunity.Opportunity_Property__r.Address__StateCode__s, addressMap.get('state'), 'State should match');
        System.assertEquals(testOpportunity.Opportunity_Property__r.Address__PostalCode__s, addressMap.get('postal_code'), 'Postal Code should match');
        System.assertEquals(testOpportunity.Opportunity_Property__r.Address__CountryCode__s, addressMap.get('country'), 'Country should match');
    }
    // Mock HTTP Callout
    private class CompanyCamMock implements HttpCalloutMock {
        public HTTPResponse respond(HTTPRequest req) {
            HttpResponse res = new HttpResponse();
            res.setStatusCode(200);

            if (req.getEndpoint().contains('/projects?query=')) {
                res.setBody('[{"id":"35570829","commentable_id":"77032344","commentable_type":"Location","status":"active","content":"beep boop","creator_id":"3058494","creator_type":"User","creator_name":"Devin OBrien","created_at":1738181439,"updated_at":1738181439},{"id":"35559735","commentable_id":"77032344","commentable_type":"Location","status":"active","content":"test","creator_id":"3058494","creator_type":"User","creator_name":"Devin OBrien","created_at":1738144994,"updated_at":1738144995},{"id":"35559661","commentable_id":"77032344","commentable_type":"Location","status":"active","content":"test\'\\n\\ntest test\\n\\ntest etst test","creator_id":"3058494","creator_type":"User","creator_name":"Devin OBrien","created_at":1738134905,"updated_at":1738134906},{"id":"35559660","commentable_id":"77032344","commentable_type":"Location","status":"active","content":"test 2","creator_id":"3058494","creator_type":"User","creator_name":"Devin OBrien","created_at":1738134896,"updated_at":1738134897},{"id":"35559497","commentable_id":"77032344","commentable_type":"Location","status":"active","content":"test","creator_id":"3058494","creator_type":"User","creator_name":"Devin OBrien","created_at":1738126539,"updated_at":1738134707}]');
            }

            return res;
        }
    }
    @IsTest
    static void testCreateCompanyCamProject(){
        Opportunity o = [SELECT Id, Name,AccountId, StageName, CloseDate,
                Opportunity_Property__r.Address__Street__s,
                Opportunity_Property__r.Address__City__s,
                Opportunity_Property__r.Address__StateCode__s,
                Opportunity_Property__r.Address__PostalCode__s,
                Opportunity_Property__r.Address__CountryCode__s,
                Opportunity_Property__r.Address__c
        FROM Opportunity
        LIMIT 1];
        String mockRes = '{"id":"77032344","company_id":"908415","creator_id":"3058494","creator_type":"User","creator_name":"Devin OBrien","integration_relation_id":null,"status":"active","archived":false,"public":true,"name":"Anderson, Dave \\u0026 Nadean Household – 420 West 5th Street Tea, SD – 12/7/2023","address":{"street_address_1":"420 West 5th Street","street_address_2":null,"city":"Tea","state":"SD","postal_code":"57064","country":"US"},"feature_image":[],"slug":"AWJmG71iTRYDRmRY","project_url":"https://app.companycam.com/projects/77032344","public_url":"https://app.companycam.com/timeline/AWJmG71iTRYDRmRY","coordinates":{"lat":43.4430416,"lon":-96.84100439999999},"geofence":[],"primary_contact":null,"created_at":1738118263,"updated_at":1738134707,"embedded_project_url":"https://app.companycam.com/embed/projects/AWJmG71iTRYDRmRY","photo_count":0,"capture_photo_deeplink":"ccam://camera/77032344/QW5kZXJzb24sIERhdmUgJiBOYWRlYW4gSG91c2Vob2xkIOKAkyA0MjAgV2VzdCA1dGggU3RyZWV0IFRlYSwgU0Qg4oCTIDEyLzcvMjAyMw%3D%3D","integrations":[{"type":"Salesforce","relation_id":null}],"notepad":null}';
        MockHttpResponse mock = new MockHttpResponse(200,'OK',mockRes);
        Test.setMock(HttpCalloutMock.class,mock);
        Test.startTest();
        CompanyCamAPI ccAPI = new CompanyCamAPI();
        HttpResponse response = ccAPI.CreateCompanyCamProject(o);
        System.debug(response);
        Test.stopTest();
    }

    @IsTest
    static void testGetCompanyCamLabels(){
        String CompanyCamProjectId = '77032344';
        String mockRes = '[{"id":"11376338","company_id":"908415","display_value":"Canceled Deal","value":"canceled deal","created_at":1687276488,"updated_at":1687276488,"tag_type":"project"},{"id":"11619792","company_id":"908415","display_value":"Get Back In","value":"get back in","created_at":1688841287,"updated_at":1688841287,"tag_type":"project"},{"id":"10624657","company_id":"908415","display_value":"In Progress","value":"in progress","created_at":1682591184,"updated_at":1682591184,"tag_type":"project"},{"id":"10805367","company_id":"908415","display_value":"Measured","value":"measured","created_at":1683674680,"updated_at":1684028126,"tag_type":"project"},{"id":"11226459","company_id":"908415","display_value":"No Interest","value":"no interest","created_at":1686343878,"updated_at":1686343887,"tag_type":"project"},{"id":"11229053","company_id":"908415","display_value":"No Show","value":"no show","created_at":1686354783,"updated_at":1686354783,"tag_type":"project"},{"id":"11278235","company_id":"908415","display_value":"Rehash","value":"rehash","created_at":1686679778,"updated_at":1686679778,"tag_type":"project"}]';
        MockHttpResponse mock = new MockHttpResponse(200,'OK',mockRes);
        Test.setMock(HttpCalloutMock.class,mock);
        Test.startTest();
        CompanyCamAPI ccAPI = new CompanyCamAPI();
        HttpResponse response = ccAPI.GetCompanyCamLabels(CompanyCamProjectId);
        System.debug(response);
        Test.stopTest();
    }
    @IsTest
    static void testGetCompanyCamComments(){
        String CompanyCamProjectId = '77032344';
        String mockRes = '[{"id":"35570829","commentable_id":"77032344","commentable_type":"Location","status":"active","content":"beep boop","creator_id":"3058494","creator_type":"User","creator_name":"Devin OBrien","created_at":1738181439,"updated_at":1738181439},{"id":"35559735","commentable_id":"77032344","commentable_type":"Location","status":"active","content":"test","creator_id":"3058494","creator_type":"User","creator_name":"Devin OBrien","created_at":1738144994,"updated_at":1738144995},{"id":"35559661","commentable_id":"77032344","commentable_type":"Location","status":"active","content":"test\'\\n\\ntest test\\n\\ntest etst test","creator_id":"3058494","creator_type":"User","creator_name":"Devin OBrien","created_at":1738134905,"updated_at":1738134906},{"id":"35559660","commentable_id":"77032344","commentable_type":"Location","status":"active","content":"test 2","creator_id":"3058494","creator_type":"User","creator_name":"Devin OBrien","created_at":1738134896,"updated_at":1738134897},{"id":"35559497","commentable_id":"77032344","commentable_type":"Location","status":"active","content":"test","creator_id":"3058494","creator_type":"User","creator_name":"Devin OBrien","created_at":1738126539,"updated_at":1738134707}]';
        MockHttpResponse mock = new MockHttpResponse(200,'OK',mockRes);
        Test.setMock(HttpCalloutMock.class,mock);
        Test.startTest();
        CompanyCamAPI ccAPI = new CompanyCamAPI();
        HttpResponse response = ccAPI.GetCompanyCamComments(CompanyCamProjectId);
        System.debug(response);
        Test.stopTest();
    }
    @IsTest
    static void testRetrieveCompanyCamProjectList(){
        String StreetNumber = '420';
        String mockRes = '[{"id":"77032344","company_id":"908415","creator_id":"3058494","creator_type":"User","creator_name":"Devin OBrien","integration_relation_id":null,"status":"active","archived":false,"public":true,"name":"Anderson, Dave \\u0026 Nadean Household – 420 West 5th Street Tea, SD – 12/7/2023","address":{"street_address_1":"420 West 5th Street","street_address_2":null,"city":"Tea","state":"SD","postal_code":"57064","country":"US"},"feature_image":[],"slug":"AWJmG71iTRYDRmRY","project_url":"https://app.companycam.com/projects/77032344","public_url":"https://app.companycam.com/timeline/AWJmG71iTRYDRmRY","coordinates":{"lat":43.4430416,"lon":-96.84100439999999},"geofence":[],"primary_contact":null,"created_at":1738118263,"updated_at":1738134707,"embedded_project_url":"https://app.companycam.com/embed/projects/AWJmG71iTRYDRmRY","photo_count":0,"capture_photo_deeplink":"ccam://camera/77032344/QW5kZXJzb24sIERhdmUgJiBOYWRlYW4gSG91c2Vob2xkIOKAkyA0MjAgV2VzdCA1dGggU3RyZWV0IFRlYSwgU0Qg4oCTIDEyLzcvMjAyMw%3D%3D","integrations":[{"type":"Salesforce","relation_id":null}],"notepad":null},{"id":"77033925","company_id":"908415","creator_id":"3058494","creator_type":"User","creator_name":"Devin OBrien","integration_relation_id":null,"status":"deleted","archived":false,"public":true,"name":"Anderson, Dave \\u0026 Nadean Household – 420 West 5th Street Tea, SD – 12/7/2023","address":{"street_address_1":null,"street_address_2":null,"city":"Tea","state":"South Dakota","postal_code":null,"country":"US"},"feature_image":[],"slug":"MLiQBvGZ7rM8L3Kv","project_url":"https://app.companycam.com/projects/77033925","public_url":"https://app.companycam.com/timeline/MLiQBvGZ7rM8L3Kv","coordinates":{"lat":43.44306,"lon":-96.84099},"geofence":[],"primary_contact":null,"created_at":1738140188,"updated_at":1738140209,"embedded_project_url":"https://app.companycam.com/embed/projects/MLiQBvGZ7rM8L3Kv","photo_count":0,"capture_photo_deeplink":"ccam://camera/77033925/QW5kZXJzb24sIERhdmUgJiBOYWRlYW4gSG91c2Vob2xkIOKAkyA0MjAgV2VzdCA1dGggU3RyZWV0IFRlYSwgU0Qg4oCTIDEyLzcvMjAyMw%3D%3D","integrations":[{"type":"Salesforce","relation_id":null}],"notepad":null},{"id":"76158214","company_id":"908415","creator_id":"3223766","creator_type":"User","creator_name":"Ben Rathjen","integration_relation_id":null,"status":"deleted","archived":false,"public":true,"name":"Brandon Jackson \\u0026 Megan Jackson – 420 U.S. 20 O\'Neill, NE – 11/5/2024","address":{"street_address_1":"420 U.S. 20","street_address_2":null,"city":"O\'Neill","state":"NE","postal_code":"68763","country":null},"feature_image":[],"slug":"qxcZFXMDiAWsnWmL","project_url":"https://app.companycam.com/projects/76158214","public_url":"https://app.companycam.com/timeline/qxcZFXMDiAWsnWmL","coordinates":{"lat":42.4519625,"lon":-98.6288723},"geofence":[],"primary_contact":null,"created_at":1736449881,"updated_at":1736449936,"embedded_project_url":"https://app.companycam.com/embed/projects/qxcZFXMDiAWsnWmL","photo_count":0,"capture_photo_deeplink":"ccam://camera/76158214/QnJhbmRvbiBKYWNrc29uICYgTWVnYW4gSmFja3NvbiDigJMgNDIwIFUuUy4gMjAgTydOZWlsbCwgTkUg4oCTIDExLzUvMjAyNA%3D%3D","integrations":[{"type":"Salesforce","relation_id":null}],"notepad":null},{"id":"69862057","company_id":"908415","creator_id":"3091179","creator_type":"User","creator_name":"Dylan Murphy","integration_relation_id":null,"status":"active","archived":false,"public":true,"name":"Becky Skala","address":{"street_address_1":"4204 H Ave","street_address_2":null,"city":"Kearney","state":"NE","postal_code":"68847","country":null},"feature_image":[{"type":"original","uri":"https://img.companycam.com/7InaQKGNJuwOkNjKuODR439-3BkqrcaPyB_1pDBhxSE/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9hNDIx/MzczZS1kOGQ4LTQ5/NjktYjk2NS00NzYw/YTRhY2I4NWEuanBn.jpg","url":"https://img.companycam.com/7InaQKGNJuwOkNjKuODR439-3BkqrcaPyB_1pDBhxSE/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9hNDIx/MzczZS1kOGQ4LTQ5/NjktYjk2NS00NzYw/YTRhY2I4NWEuanBn.jpg"},{"type":"web","uri":"https://img.companycam.com/cArm8hfFFfjqN6E-wEpHnPR4qkZBB8QXa5qJDYiI14Q/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9hNDIx/MzczZS1kOGQ4LTQ5/NjktYjk2NS00NzYw/YTRhY2I4NWEuanBn.jpg","url":"https://img.companycam.com/cArm8hfFFfjqN6E-wEpHnPR4qkZBB8QXa5qJDYiI14Q/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9hNDIx/MzczZS1kOGQ4LTQ5/NjktYjk2NS00NzYw/YTRhY2I4NWEuanBn.jpg"},{"type":"thumbnail","uri":"https://img.companycam.com/RuVg-XhXo_sUWVmsH0SCfZ5lG1sBRJ78nBjb4-_yErc/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9hNDIx/MzczZS1kOGQ4LTQ5/NjktYjk2NS00NzYw/YTRhY2I4NWEuanBn.jpg","url":"https://img.companycam.com/RuVg-XhXo_sUWVmsH0SCfZ5lG1sBRJ78nBjb4-_yErc/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9hNDIx/MzczZS1kOGQ4LTQ5/NjktYjk2NS00NzYw/YTRhY2I4NWEuanBn.jpg"}],"slug":"gzDu87k2c8J1ctC6","project_url":"https://app.companycam.com/projects/69862057","public_url":"https://app.companycam.com/timeline/gzDu87k2c8J1ctC6","coordinates":{"lat":40.7163727,"lon":-99.071089},"geofence":[],"primary_contact":null,"created_at":1725052482,"updated_at":1725052577,"embedded_project_url":"https://app.companycam.com/embed/projects/gzDu87k2c8J1ctC6","photo_count":3,"capture_photo_deeplink":"ccam://camera/69862057/QmVja3kgU2thbGE%3D","integrations":[],"notepad":null},{"id":"69165478","company_id":"908415","creator_id":"3059118","creator_type":"User","creator_name":"Sheldon Mausbach","integration_relation_id":null,"status":"active","archived":false,"public":true,"name":"Larsen, Norm 8/17/24","address":{"street_address_1":"4200 Savage St","street_address_2":null,"city":"Council Bluffs","state":"IA","postal_code":"51501","country":null},"feature_image":[{"type":"original","uri":"https://img.companycam.com/D33OsydH_79sr3S_eCFtViVGtn6fO5Q_KnD6FeZEjc8/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8xYTVj/YTkyZC1kOWZiLTQx/MGEtYTRjMy1jMTRj/MzQ2NDZmN2YuanBn.jpg","url":"https://img.companycam.com/D33OsydH_79sr3S_eCFtViVGtn6fO5Q_KnD6FeZEjc8/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8xYTVj/YTkyZC1kOWZiLTQx/MGEtYTRjMy1jMTRj/MzQ2NDZmN2YuanBn.jpg"},{"type":"web","uri":"https://img.companycam.com/Zi7F4waX58ta_7NBNEw2D8-9fYNd3nMe7bbY4CTqkEQ/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8xYTVj/YTkyZC1kOWZiLTQx/MGEtYTRjMy1jMTRj/MzQ2NDZmN2YuanBn.jpg","url":"https://img.companycam.com/Zi7F4waX58ta_7NBNEw2D8-9fYNd3nMe7bbY4CTqkEQ/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8xYTVj/YTkyZC1kOWZiLTQx/MGEtYTRjMy1jMTRj/MzQ2NDZmN2YuanBn.jpg"},{"type":"thumbnail","uri":"https://img.companycam.com/Klu5LbsCI9RcYZnyBvhfI3WL2wzjs3y5QxpFRhvZ4vY/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8xYTVj/YTkyZC1kOWZiLTQx/MGEtYTRjMy1jMTRj/MzQ2NDZmN2YuanBn.jpg","url":"https://img.companycam.com/Klu5LbsCI9RcYZnyBvhfI3WL2wzjs3y5QxpFRhvZ4vY/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8xYTVj/YTkyZC1kOWZiLTQx/MGEtYTRjMy1jMTRj/MzQ2NDZmN2YuanBn.jpg"}],"slug":"2iGADErVGCsHYVbA","project_url":"https://app.companycam.com/projects/69165478","public_url":"https://app.companycam.com/timeline/2iGADErVGCsHYVbA","coordinates":{"lat":41.2174998,"lon":-95.8930094},"geofence":[],"primary_contact":null,"created_at":1723909983,"updated_at":1723913285,"embedded_project_url":"https://app.companycam.com/embed/projects/2iGADErVGCsHYVbA","photo_count":8,"capture_photo_deeplink":"ccam://camera/69165478/TGFyc2VuLCBOb3JtIDgvMTcvMjQ%3D","integrations":[],"notepad":null},{"id":"62892437","company_id":"908415","creator_id":"3171140","creator_type":"User","creator_name":"Nick Esparza","integration_relation_id":null,"status":"active","archived":false,"public":true,"name":"James \\u0026 Wendy Wilkins - 4/20/24","address":{"street_address_1":"203 E 53rd St Pl","street_address_2":null,"city":"Kearney","state":"NE","postal_code":"68847","country":null},"feature_image":[{"type":"original","uri":"https://img.companycam.com/J-YxKbNIB1e3XtFbQtUzFRJ0B2Jn9ipUzrDeSsByveg/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS80YWJm/MjZiZi1mNDY0LTRm/M2MtOTczNC0wNWYx/N2JhYTJlMmIuanBn.jpg","url":"https://img.companycam.com/J-YxKbNIB1e3XtFbQtUzFRJ0B2Jn9ipUzrDeSsByveg/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS80YWJm/MjZiZi1mNDY0LTRm/M2MtOTczNC0wNWYx/N2JhYTJlMmIuanBn.jpg"},{"type":"web","uri":"https://img.companycam.com/czAuIztw_kPtSS9ou-ZSfty4QCa4aWXt6xu5lKMAE78/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS80YWJm/MjZiZi1mNDY0LTRm/M2MtOTczNC0wNWYx/N2JhYTJlMmIuanBn.jpg","url":"https://img.companycam.com/czAuIztw_kPtSS9ou-ZSfty4QCa4aWXt6xu5lKMAE78/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS80YWJm/MjZiZi1mNDY0LTRm/M2MtOTczNC0wNWYx/N2JhYTJlMmIuanBn.jpg"},{"type":"thumbnail","uri":"https://img.companycam.com/iY0eG77S5iCHTLKgzxxeaQLkzkiu3_5xrm20RZXZeZk/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS80YWJm/MjZiZi1mNDY0LTRm/M2MtOTczNC0wNWYx/N2JhYTJlMmIuanBn.jpg","url":"https://img.companycam.com/iY0eG77S5iCHTLKgzxxeaQLkzkiu3_5xrm20RZXZeZk/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS80YWJm/MjZiZi1mNDY0LTRm/M2MtOTczNC0wNWYx/N2JhYTJlMmIuanBn.jpg"}],"slug":"hbR1ZUKRZGFeRsVk","project_url":"https://app.companycam.com/projects/62892437","public_url":"https://app.companycam.com/timeline/hbR1ZUKRZGFeRsVk","coordinates":{"lat":40.72601358910474,"lon":-99.07842691987753},"geofence":[],"primary_contact":null,"created_at":1713625078,"updated_at":1716315254,"embedded_project_url":"https://app.companycam.com/embed/projects/hbR1ZUKRZGFeRsVk","photo_count":1,"capture_photo_deeplink":"ccam://camera/62892437/SmFtZXMgJiBXZW5keSBXaWxraW5zIC0gNC8yMC8yNA%3D%3D","integrations":[],"notepad":null},{"id":"56153502","company_id":"908415","creator_id":"3059118","creator_type":"User","creator_name":"Sheldon Mausbach","integration_relation_id":null,"status":"active","archived":false,"public":true,"name":"Niewohner, Peg (10/13/23)","address":{"street_address_1":"4209 S 13th St","street_address_2":null,"city":"Norfolk","state":"NE","postal_code":"68701","country":null},"feature_image":[{"type":"original","uri":"https://img.companycam.com/XeLeCIcxXgoeWVtxkY9Uf8zApq_7B01bTHaRh4RGRzE/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9jZjZl/ZDY4YS04NmE1LTQ4/ZmQtYjJkZS00MzBl/NWZkNTUyNTAuanBn.jpg","url":"https://img.companycam.com/XeLeCIcxXgoeWVtxkY9Uf8zApq_7B01bTHaRh4RGRzE/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9jZjZl/ZDY4YS04NmE1LTQ4/ZmQtYjJkZS00MzBl/NWZkNTUyNTAuanBn.jpg"},{"type":"web","uri":"https://img.companycam.com/81rap0lkld5iuVTdq2kYx2RVXX4xBFz8di7B2ZUiN9w/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9jZjZl/ZDY4YS04NmE1LTQ4/ZmQtYjJkZS00MzBl/NWZkNTUyNTAuanBn.jpg","url":"https://img.companycam.com/81rap0lkld5iuVTdq2kYx2RVXX4xBFz8di7B2ZUiN9w/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9jZjZl/ZDY4YS04NmE1LTQ4/ZmQtYjJkZS00MzBl/NWZkNTUyNTAuanBn.jpg"},{"type":"thumbnail","uri":"https://img.companycam.com/rdgSqUuFcPkrC5GPMSDCIW1f4oL89Sv0hqPZ9sTprNE/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9jZjZl/ZDY4YS04NmE1LTQ4/ZmQtYjJkZS00MzBl/NWZkNTUyNTAuanBn.jpg","url":"https://img.companycam.com/rdgSqUuFcPkrC5GPMSDCIW1f4oL89Sv0hqPZ9sTprNE/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9jZjZl/ZDY4YS04NmE1LTQ4/ZmQtYjJkZS00MzBl/NWZkNTUyNTAuanBn.jpg"}],"slug":"xPuiEH5R3d5CWm4g","project_url":"https://app.companycam.com/projects/56153502","public_url":"https://app.companycam.com/timeline/xPuiEH5R3d5CWm4g","coordinates":{"lat":41.98123799999999,"lon":-97.425934},"geofence":[],"primary_contact":{"id":"1810069","email":"","name":"Peg Niewohner","phone_number":"4026400998","created_at":1697229021,"company_id":"908415","project_id":"56153502","updated_at":1697229021},"created_at":1697228987,"updated_at":1697235552,"embedded_project_url":"https://app.companycam.com/embed/projects/xPuiEH5R3d5CWm4g","photo_count":6,"capture_photo_deeplink":"ccam://camera/56153502/Tmlld29obmVyLCBQZWcgKDEwLzEzLzIzKQ%3D%3D","integrations":[],"notepad":null},{"id":"56053220","company_id":"908415","creator_id":"3171140","creator_type":"User","creator_name":"Nick Esparza","integration_relation_id":null,"status":"active","archived":false,"public":true,"name":"Jesse \\u0026 Marlene Warnke","address":{"street_address_1":"420 N Rerick Ave","street_address_2":null,"city":"Primghar","state":"IA","postal_code":"51245","country":null},"feature_image":[{"type":"original","uri":"https://img.companycam.com/MWnOmxURWChuDOZhiUeclbvc89pLx4_lYeXsxEUyLbg/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9mMWQ5/NTM1NC0zMTcwLTRl/M2MtOGE5ZS0xNzhk/NzQ4YTM0ZTcuanBn.jpg","url":"https://img.companycam.com/MWnOmxURWChuDOZhiUeclbvc89pLx4_lYeXsxEUyLbg/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9mMWQ5/NTM1NC0zMTcwLTRl/M2MtOGE5ZS0xNzhk/NzQ4YTM0ZTcuanBn.jpg"},{"type":"web","uri":"https://img.companycam.com/XbBZm9Eg9_3r61Qy33nfKW8Aa1gjuag1MRePd8Abg5E/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9mMWQ5/NTM1NC0zMTcwLTRl/M2MtOGE5ZS0xNzhk/NzQ4YTM0ZTcuanBn.jpg","url":"https://img.companycam.com/XbBZm9Eg9_3r61Qy33nfKW8Aa1gjuag1MRePd8Abg5E/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9mMWQ5/NTM1NC0zMTcwLTRl/M2MtOGE5ZS0xNzhk/NzQ4YTM0ZTcuanBn.jpg"},{"type":"thumbnail","uri":"https://img.companycam.com/mJLRn1plwIZB1eKCB3w782GWEOd0ZbA_QL4DOISFC8o/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9mMWQ5/NTM1NC0zMTcwLTRl/M2MtOGE5ZS0xNzhk/NzQ4YTM0ZTcuanBn.jpg","url":"https://img.companycam.com/mJLRn1plwIZB1eKCB3w782GWEOd0ZbA_QL4DOISFC8o/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9mMWQ5/NTM1NC0zMTcwLTRl/M2MtOGE5ZS0xNzhk/NzQ4YTM0ZTcuanBn.jpg"}],"slug":"xqVPPAHraUGwSEAN","project_url":"https://app.companycam.com/projects/56053220","public_url":"https://app.companycam.com/timeline/xqVPPAHraUGwSEAN","coordinates":{"lat":43.09003050805708,"lon":-95.62396366149187},"geofence":[],"primary_contact":null,"created_at":1697064216,"updated_at":1697064572,"embedded_project_url":"https://app.companycam.com/embed/projects/xqVPPAHraUGwSEAN","photo_count":3,"capture_photo_deeplink":"ccam://camera/56053220/SmVzc2UgJiBNYXJsZW5lIFdhcm5rZQ%3D%3D","integrations":[],"notepad":null},{"id":"55882323","company_id":"908415","creator_id":"3074041","creator_type":"User","creator_name":"Doug Charko","integration_relation_id":null,"status":"active","archived":false,"public":true,"name":"James Redden","address":{"street_address_1":"420 Linn St","street_address_2":null,"city":"Le Mars","state":"IA","postal_code":"51031","country":null},"feature_image":[{"type":"original","uri":"https://img.companycam.com/v20ZejgpiEO2HbKhX4x4APj29RgUdnmEoSpdjoFLHBE/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8yOWRm/ZGYyNi1hNzU2LTRk/MGQtODc4ZS1jMzRh/ZTUzM2IzMWMuanBn.jpg","url":"https://img.companycam.com/v20ZejgpiEO2HbKhX4x4APj29RgUdnmEoSpdjoFLHBE/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8yOWRm/ZGYyNi1hNzU2LTRk/MGQtODc4ZS1jMzRh/ZTUzM2IzMWMuanBn.jpg"},{"type":"web","uri":"https://img.companycam.com/puKsTYQMOTfquXTU99dIX49sahxnBhLJ80DwbZMjDTU/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8yOWRm/ZGYyNi1hNzU2LTRk/MGQtODc4ZS1jMzRh/ZTUzM2IzMWMuanBn.jpg","url":"https://img.companycam.com/puKsTYQMOTfquXTU99dIX49sahxnBhLJ80DwbZMjDTU/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8yOWRm/ZGYyNi1hNzU2LTRk/MGQtODc4ZS1jMzRh/ZTUzM2IzMWMuanBn.jpg"},{"type":"thumbnail","uri":"https://img.companycam.com/s2g_APlqvlwW6V6ktZ1O0JXaCdXJNOr7U1vhp9gTSFs/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8yOWRm/ZGYyNi1hNzU2LTRk/MGQtODc4ZS1jMzRh/ZTUzM2IzMWMuanBn.jpg","url":"https://img.companycam.com/s2g_APlqvlwW6V6ktZ1O0JXaCdXJNOr7U1vhp9gTSFs/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8yOWRm/ZGYyNi1hNzU2LTRk/MGQtODc4ZS1jMzRh/ZTUzM2IzMWMuanBn.jpg"}],"slug":"Eo9arT2vmJcVWZan","project_url":"https://app.companycam.com/projects/55882323","public_url":"https://app.companycam.com/timeline/Eo9arT2vmJcVWZan","coordinates":{"lat":42.897422581659,"lon":-96.31025293841958},"geofence":[],"primary_contact":null,"created_at":1696620657,"updated_at":1696620772,"embedded_project_url":"https://app.companycam.com/embed/projects/Eo9arT2vmJcVWZan","photo_count":3,"capture_photo_deeplink":"ccam://camera/55882323/SmFtZXMgUmVkZGVu","integrations":[],"notepad":null},{"id":"53765865","company_id":"908415","creator_id":"3058494","creator_type":"User","creator_name":"Devin OBrien","integration_relation_id":null,"status":"active","archived":false,"public":true,"name":"Hoge, Jim \\u0026 Sue 7/10/23","address":{"street_address_1":"4203 31st St","street_address_2":null,"city":"Columbus","state":"Nebraska","postal_code":"68601","country":"US"},"feature_image":[],"slug":"TAkEDwX5EG5kAck4","project_url":"https://app.companycam.com/projects/53765865","public_url":"https://app.companycam.com/timeline/TAkEDwX5EG5kAck4","coordinates":{"lat":41.44620279999999,"lon":-97.3797877},"geofence":[],"primary_contact":null,"created_at":1692050427,"updated_at":1692050427,"embedded_project_url":"https://app.companycam.com/embed/projects/TAkEDwX5EG5kAck4","photo_count":0,"capture_photo_deeplink":"ccam://camera/53765865/SG9nZSwgSmltICYgU3VlIDcvMTAvMjM%3D","integrations":[],"notepad":null},{"id":"51756890","company_id":"908415","creator_id":"3058494","creator_type":"User","creator_name":"Devin OBrien","integration_relation_id":null,"status":"active","archived":false,"public":true,"name":"Lauer, Chris \\u0026 Tanae 5/22/23","address":{"street_address_1":"77131 County Rd 420","street_address_2":null,"city":"Cozad","state":"Nebraska","postal_code":"69130","country":"US"},"feature_image":[],"slug":"EirpmXVaoVNfHVTx","project_url":"https://app.companycam.com/projects/51756890","public_url":"https://app.companycam.com/timeline/EirpmXVaoVNfHVTx","coordinates":{"lat":41.009448,"lon":-99.9953613},"geofence":[],"primary_contact":null,"created_at":1687373453,"updated_at":1688921815,"embedded_project_url":"https://app.companycam.com/embed/projects/EirpmXVaoVNfHVTx","photo_count":0,"capture_photo_deeplink":"ccam://camera/51756890/TGF1ZXIsIENocmlzICYgVGFuYWUgNS8yMi8yMw%3D%3D","integrations":[],"notepad":null},{"id":"51749448","company_id":"908415","creator_id":"3058494","creator_type":"User","creator_name":"Devin OBrien","integration_relation_id":null,"status":"active","archived":false,"public":true,"name":"Wheeler, Jim \\u0026 Mickee 5/12/23","address":{"street_address_1":"42073 Drive #775","street_address_2":null,"city":"Callaway","state":"Ne","postal_code":"68825","country":null},"feature_image":[{"type":"original","uri":"https://img.companycam.com/mUlhmFSKQg0OklUv5mtEgHzZ_XbKDBv7Le7BHJKWrK0/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8yODY5/NTMwNi1jOWRkLTQx/N2YtOTIzZi04M2Y0/N2UyNWY0MGMuanBn.jpg","url":"https://img.companycam.com/mUlhmFSKQg0OklUv5mtEgHzZ_XbKDBv7Le7BHJKWrK0/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8yODY5/NTMwNi1jOWRkLTQx/N2YtOTIzZi04M2Y0/N2UyNWY0MGMuanBn.jpg"},{"type":"web","uri":"https://img.companycam.com/H5j1VaYXoUoLuAUS15FZoyqanYMEvsdca5bVGt-D5Xg/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8yODY5/NTMwNi1jOWRkLTQx/N2YtOTIzZi04M2Y0/N2UyNWY0MGMuanBn.jpg","url":"https://img.companycam.com/H5j1VaYXoUoLuAUS15FZoyqanYMEvsdca5bVGt-D5Xg/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8yODY5/NTMwNi1jOWRkLTQx/N2YtOTIzZi04M2Y0/N2UyNWY0MGMuanBn.jpg"},{"type":"thumbnail","uri":"https://img.companycam.com/PvXqg1olmD3GJXScc0pg3gVpJBmkdZOPSOQZVjT5pZY/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8yODY5/NTMwNi1jOWRkLTQx/N2YtOTIzZi04M2Y0/N2UyNWY0MGMuanBn.jpg","url":"https://img.companycam.com/PvXqg1olmD3GJXScc0pg3gVpJBmkdZOPSOQZVjT5pZY/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8yODY5/NTMwNi1jOWRkLTQx/N2YtOTIzZi04M2Y0/N2UyNWY0MGMuanBn.jpg"}],"slug":"dM46xQdys7PCb7QF","project_url":"https://app.companycam.com/projects/51749448","public_url":"https://app.companycam.com/timeline/dM46xQdys7PCb7QF","coordinates":{"lat":41.2919504,"lon":-99.92262129999999},"geofence":[],"primary_contact":null,"created_at":1687367640,"updated_at":1688853304,"embedded_project_url":"https://app.companycam.com/embed/projects/dM46xQdys7PCb7QF","photo_count":1,"capture_photo_deeplink":"ccam://camera/51749448/V2hlZWxlciwgSmltICYgTWlja2VlIDUvMTIvMjM%3D","integrations":[],"notepad":null},{"id":"49595957","company_id":"908415","creator_id":"3058494","creator_type":"User","creator_name":"Devin OBrien","integration_relation_id":null,"status":"deleted","archived":false,"public":true,"name":null,"address":{"street_address_1":"420 W Gourley St","street_address_2":null,"city":"Lincoln","state":"NE","postal_code":"68521","country":null},"feature_image":[],"slug":"7jhiMcLRx7Kz4jKN","project_url":"https://app.companycam.com/projects/49595957","public_url":"https://app.companycam.com/timeline/7jhiMcLRx7Kz4jKN","coordinates":{"lat":40.862645725249955,"lon":-96.73036951571703},"geofence":[],"primary_contact":null,"created_at":1682591226,"updated_at":1684100385,"embedded_project_url":"https://app.companycam.com/embed/projects/7jhiMcLRx7Kz4jKN","photo_count":0,"capture_photo_deeplink":"ccam://camera/49595957/NDIwIFcgR291cmxleSBTdA%3D%3D","integrations":[],"notepad":null}]';
        MockHttpResponse mock = new MockHttpResponse(200,'OK',mockRes);
        Test.setMock(HttpCalloutMock.class,mock);
        Test.startTest();
        CompanyCamAPI ccAPI = new CompanyCamAPI();
        HttpResponse response = ccAPI.RetrieveCompanyCamProjectList(StreetNumber);
        System.debug(response);
        Test.stopTest();
    }
    @IsTest
    static void testFilterCompanyCamProjectList(){
        HttpResponse response1 = new HttpResponse();
        Decimal Lat = Decimal.valueOf('43.4430416');
        Decimal Lng = Decimal.valueOf('-96.84100439999999');
        response1.setBody('[{"id":"77032344","company_id":"908415","creator_id":"3058494","creator_type":"User","creator_name":"Devin OBrien","integration_relation_id":null,"status":"active","archived":false,"public":true,"name":"Anderson, Dave \\u0026 Nadean Household – 420 West 5th Street Tea, SD – 12/7/2023","address":{"street_address_1":"420 West 5th Street","street_address_2":null,"city":"Tea","state":"SD","postal_code":"57064","country":"US"},"feature_image":[],"slug":"AWJmG71iTRYDRmRY","project_url":"https://app.companycam.com/projects/77032344","public_url":"https://app.companycam.com/timeline/AWJmG71iTRYDRmRY","coordinates":{"lat":43.4430416,"lon":-96.84100439999999},"geofence":[],"primary_contact":null,"created_at":1738118263,"updated_at":1738134707,"embedded_project_url":"https://app.companycam.com/embed/projects/AWJmG71iTRYDRmRY","photo_count":0,"capture_photo_deeplink":"ccam://camera/77032344/QW5kZXJzb24sIERhdmUgJiBOYWRlYW4gSG91c2Vob2xkIOKAkyA0MjAgV2VzdCA1dGggU3RyZWV0IFRlYSwgU0Qg4oCTIDEyLzcvMjAyMw%3D%3D","integrations":[{"type":"Salesforce","relation_id":null}],"notepad":null},{"id":"77033925","company_id":"908415","creator_id":"3058494","creator_type":"User","creator_name":"Devin OBrien","integration_relation_id":null,"status":"deleted","archived":false,"public":true,"name":"Anderson, Dave \\u0026 Nadean Household – 420 West 5th Street Tea, SD – 12/7/2023","address":{"street_address_1":null,"street_address_2":null,"city":"Tea","state":"South Dakota","postal_code":null,"country":"US"},"feature_image":[],"slug":"MLiQBvGZ7rM8L3Kv","project_url":"https://app.companycam.com/projects/77033925","public_url":"https://app.companycam.com/timeline/MLiQBvGZ7rM8L3Kv","coordinates":{"lat":43.44306,"lon":-96.84099},"geofence":[],"primary_contact":null,"created_at":1738140188,"updated_at":1738140209,"embedded_project_url":"https://app.companycam.com/embed/projects/MLiQBvGZ7rM8L3Kv","photo_count":0,"capture_photo_deeplink":"ccam://camera/77033925/QW5kZXJzb24sIERhdmUgJiBOYWRlYW4gSG91c2Vob2xkIOKAkyA0MjAgV2VzdCA1dGggU3RyZWV0IFRlYSwgU0Qg4oCTIDEyLzcvMjAyMw%3D%3D","integrations":[{"type":"Salesforce","relation_id":null}],"notepad":null},{"id":"76158214","company_id":"908415","creator_id":"3223766","creator_type":"User","creator_name":"Ben Rathjen","integration_relation_id":null,"status":"deleted","archived":false,"public":true,"name":"Brandon Jackson \\u0026 Megan Jackson – 420 U.S. 20 O\'Neill, NE – 11/5/2024","address":{"street_address_1":"420 U.S. 20","street_address_2":null,"city":"O\'Neill","state":"NE","postal_code":"68763","country":null},"feature_image":[],"slug":"qxcZFXMDiAWsnWmL","project_url":"https://app.companycam.com/projects/76158214","public_url":"https://app.companycam.com/timeline/qxcZFXMDiAWsnWmL","coordinates":{"lat":42.4519625,"lon":-98.6288723},"geofence":[],"primary_contact":null,"created_at":1736449881,"updated_at":1736449936,"embedded_project_url":"https://app.companycam.com/embed/projects/qxcZFXMDiAWsnWmL","photo_count":0,"capture_photo_deeplink":"ccam://camera/76158214/QnJhbmRvbiBKYWNrc29uICYgTWVnYW4gSmFja3NvbiDigJMgNDIwIFUuUy4gMjAgTydOZWlsbCwgTkUg4oCTIDExLzUvMjAyNA%3D%3D","integrations":[{"type":"Salesforce","relation_id":null}],"notepad":null},{"id":"69862057","company_id":"908415","creator_id":"3091179","creator_type":"User","creator_name":"Dylan Murphy","integration_relation_id":null,"status":"active","archived":false,"public":true,"name":"Becky Skala","address":{"street_address_1":"4204 H Ave","street_address_2":null,"city":"Kearney","state":"NE","postal_code":"68847","country":null},"feature_image":[{"type":"original","uri":"https://img.companycam.com/7InaQKGNJuwOkNjKuODR439-3BkqrcaPyB_1pDBhxSE/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9hNDIx/MzczZS1kOGQ4LTQ5/NjktYjk2NS00NzYw/YTRhY2I4NWEuanBn.jpg","url":"https://img.companycam.com/7InaQKGNJuwOkNjKuODR439-3BkqrcaPyB_1pDBhxSE/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9hNDIx/MzczZS1kOGQ4LTQ5/NjktYjk2NS00NzYw/YTRhY2I4NWEuanBn.jpg"},{"type":"web","uri":"https://img.companycam.com/cArm8hfFFfjqN6E-wEpHnPR4qkZBB8QXa5qJDYiI14Q/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9hNDIx/MzczZS1kOGQ4LTQ5/NjktYjk2NS00NzYw/YTRhY2I4NWEuanBn.jpg","url":"https://img.companycam.com/cArm8hfFFfjqN6E-wEpHnPR4qkZBB8QXa5qJDYiI14Q/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9hNDIx/MzczZS1kOGQ4LTQ5/NjktYjk2NS00NzYw/YTRhY2I4NWEuanBn.jpg"},{"type":"thumbnail","uri":"https://img.companycam.com/RuVg-XhXo_sUWVmsH0SCfZ5lG1sBRJ78nBjb4-_yErc/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9hNDIx/MzczZS1kOGQ4LTQ5/NjktYjk2NS00NzYw/YTRhY2I4NWEuanBn.jpg","url":"https://img.companycam.com/RuVg-XhXo_sUWVmsH0SCfZ5lG1sBRJ78nBjb4-_yErc/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9hNDIx/MzczZS1kOGQ4LTQ5/NjktYjk2NS00NzYw/YTRhY2I4NWEuanBn.jpg"}],"slug":"gzDu87k2c8J1ctC6","project_url":"https://app.companycam.com/projects/69862057","public_url":"https://app.companycam.com/timeline/gzDu87k2c8J1ctC6","coordinates":{"lat":40.7163727,"lon":-99.071089},"geofence":[],"primary_contact":null,"created_at":1725052482,"updated_at":1725052577,"embedded_project_url":"https://app.companycam.com/embed/projects/gzDu87k2c8J1ctC6","photo_count":3,"capture_photo_deeplink":"ccam://camera/69862057/QmVja3kgU2thbGE%3D","integrations":[],"notepad":null},{"id":"69165478","company_id":"908415","creator_id":"3059118","creator_type":"User","creator_name":"Sheldon Mausbach","integration_relation_id":null,"status":"active","archived":false,"public":true,"name":"Larsen, Norm 8/17/24","address":{"street_address_1":"4200 Savage St","street_address_2":null,"city":"Council Bluffs","state":"IA","postal_code":"51501","country":null},"feature_image":[{"type":"original","uri":"https://img.companycam.com/D33OsydH_79sr3S_eCFtViVGtn6fO5Q_KnD6FeZEjc8/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8xYTVj/YTkyZC1kOWZiLTQx/MGEtYTRjMy1jMTRj/MzQ2NDZmN2YuanBn.jpg","url":"https://img.companycam.com/D33OsydH_79sr3S_eCFtViVGtn6fO5Q_KnD6FeZEjc8/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8xYTVj/YTkyZC1kOWZiLTQx/MGEtYTRjMy1jMTRj/MzQ2NDZmN2YuanBn.jpg"},{"type":"web","uri":"https://img.companycam.com/Zi7F4waX58ta_7NBNEw2D8-9fYNd3nMe7bbY4CTqkEQ/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8xYTVj/YTkyZC1kOWZiLTQx/MGEtYTRjMy1jMTRj/MzQ2NDZmN2YuanBn.jpg","url":"https://img.companycam.com/Zi7F4waX58ta_7NBNEw2D8-9fYNd3nMe7bbY4CTqkEQ/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8xYTVj/YTkyZC1kOWZiLTQx/MGEtYTRjMy1jMTRj/MzQ2NDZmN2YuanBn.jpg"},{"type":"thumbnail","uri":"https://img.companycam.com/Klu5LbsCI9RcYZnyBvhfI3WL2wzjs3y5QxpFRhvZ4vY/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8xYTVj/YTkyZC1kOWZiLTQx/MGEtYTRjMy1jMTRj/MzQ2NDZmN2YuanBn.jpg","url":"https://img.companycam.com/Klu5LbsCI9RcYZnyBvhfI3WL2wzjs3y5QxpFRhvZ4vY/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8xYTVj/YTkyZC1kOWZiLTQx/MGEtYTRjMy1jMTRj/MzQ2NDZmN2YuanBn.jpg"}],"slug":"2iGADErVGCsHYVbA","project_url":"https://app.companycam.com/projects/69165478","public_url":"https://app.companycam.com/timeline/2iGADErVGCsHYVbA","coordinates":{"lat":41.2174998,"lon":-95.8930094},"geofence":[],"primary_contact":null,"created_at":1723909983,"updated_at":1723913285,"embedded_project_url":"https://app.companycam.com/embed/projects/2iGADErVGCsHYVbA","photo_count":8,"capture_photo_deeplink":"ccam://camera/69165478/TGFyc2VuLCBOb3JtIDgvMTcvMjQ%3D","integrations":[],"notepad":null},{"id":"62892437","company_id":"908415","creator_id":"3171140","creator_type":"User","creator_name":"Nick Esparza","integration_relation_id":null,"status":"active","archived":false,"public":true,"name":"James \\u0026 Wendy Wilkins - 4/20/24","address":{"street_address_1":"203 E 53rd St Pl","street_address_2":null,"city":"Kearney","state":"NE","postal_code":"68847","country":null},"feature_image":[{"type":"original","uri":"https://img.companycam.com/J-YxKbNIB1e3XtFbQtUzFRJ0B2Jn9ipUzrDeSsByveg/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS80YWJm/MjZiZi1mNDY0LTRm/M2MtOTczNC0wNWYx/N2JhYTJlMmIuanBn.jpg","url":"https://img.companycam.com/J-YxKbNIB1e3XtFbQtUzFRJ0B2Jn9ipUzrDeSsByveg/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS80YWJm/MjZiZi1mNDY0LTRm/M2MtOTczNC0wNWYx/N2JhYTJlMmIuanBn.jpg"},{"type":"web","uri":"https://img.companycam.com/czAuIztw_kPtSS9ou-ZSfty4QCa4aWXt6xu5lKMAE78/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS80YWJm/MjZiZi1mNDY0LTRm/M2MtOTczNC0wNWYx/N2JhYTJlMmIuanBn.jpg","url":"https://img.companycam.com/czAuIztw_kPtSS9ou-ZSfty4QCa4aWXt6xu5lKMAE78/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS80YWJm/MjZiZi1mNDY0LTRm/M2MtOTczNC0wNWYx/N2JhYTJlMmIuanBn.jpg"},{"type":"thumbnail","uri":"https://img.companycam.com/iY0eG77S5iCHTLKgzxxeaQLkzkiu3_5xrm20RZXZeZk/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS80YWJm/MjZiZi1mNDY0LTRm/M2MtOTczNC0wNWYx/N2JhYTJlMmIuanBn.jpg","url":"https://img.companycam.com/iY0eG77S5iCHTLKgzxxeaQLkzkiu3_5xrm20RZXZeZk/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS80YWJm/MjZiZi1mNDY0LTRm/M2MtOTczNC0wNWYx/N2JhYTJlMmIuanBn.jpg"}],"slug":"hbR1ZUKRZGFeRsVk","project_url":"https://app.companycam.com/projects/62892437","public_url":"https://app.companycam.com/timeline/hbR1ZUKRZGFeRsVk","coordinates":{"lat":40.72601358910474,"lon":-99.07842691987753},"geofence":[],"primary_contact":null,"created_at":1713625078,"updated_at":1716315254,"embedded_project_url":"https://app.companycam.com/embed/projects/hbR1ZUKRZGFeRsVk","photo_count":1,"capture_photo_deeplink":"ccam://camera/62892437/SmFtZXMgJiBXZW5keSBXaWxraW5zIC0gNC8yMC8yNA%3D%3D","integrations":[],"notepad":null},{"id":"56153502","company_id":"908415","creator_id":"3059118","creator_type":"User","creator_name":"Sheldon Mausbach","integration_relation_id":null,"status":"active","archived":false,"public":true,"name":"Niewohner, Peg (10/13/23)","address":{"street_address_1":"4209 S 13th St","street_address_2":null,"city":"Norfolk","state":"NE","postal_code":"68701","country":null},"feature_image":[{"type":"original","uri":"https://img.companycam.com/XeLeCIcxXgoeWVtxkY9Uf8zApq_7B01bTHaRh4RGRzE/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9jZjZl/ZDY4YS04NmE1LTQ4/ZmQtYjJkZS00MzBl/NWZkNTUyNTAuanBn.jpg","url":"https://img.companycam.com/XeLeCIcxXgoeWVtxkY9Uf8zApq_7B01bTHaRh4RGRzE/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9jZjZl/ZDY4YS04NmE1LTQ4/ZmQtYjJkZS00MzBl/NWZkNTUyNTAuanBn.jpg"},{"type":"web","uri":"https://img.companycam.com/81rap0lkld5iuVTdq2kYx2RVXX4xBFz8di7B2ZUiN9w/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9jZjZl/ZDY4YS04NmE1LTQ4/ZmQtYjJkZS00MzBl/NWZkNTUyNTAuanBn.jpg","url":"https://img.companycam.com/81rap0lkld5iuVTdq2kYx2RVXX4xBFz8di7B2ZUiN9w/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9jZjZl/ZDY4YS04NmE1LTQ4/ZmQtYjJkZS00MzBl/NWZkNTUyNTAuanBn.jpg"},{"type":"thumbnail","uri":"https://img.companycam.com/rdgSqUuFcPkrC5GPMSDCIW1f4oL89Sv0hqPZ9sTprNE/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9jZjZl/ZDY4YS04NmE1LTQ4/ZmQtYjJkZS00MzBl/NWZkNTUyNTAuanBn.jpg","url":"https://img.companycam.com/rdgSqUuFcPkrC5GPMSDCIW1f4oL89Sv0hqPZ9sTprNE/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9jZjZl/ZDY4YS04NmE1LTQ4/ZmQtYjJkZS00MzBl/NWZkNTUyNTAuanBn.jpg"}],"slug":"xPuiEH5R3d5CWm4g","project_url":"https://app.companycam.com/projects/56153502","public_url":"https://app.companycam.com/timeline/xPuiEH5R3d5CWm4g","coordinates":{"lat":41.98123799999999,"lon":-97.425934},"geofence":[],"primary_contact":{"id":"1810069","email":"","name":"Peg Niewohner","phone_number":"4026400998","created_at":1697229021,"company_id":"908415","project_id":"56153502","updated_at":1697229021},"created_at":1697228987,"updated_at":1697235552,"embedded_project_url":"https://app.companycam.com/embed/projects/xPuiEH5R3d5CWm4g","photo_count":6,"capture_photo_deeplink":"ccam://camera/56153502/Tmlld29obmVyLCBQZWcgKDEwLzEzLzIzKQ%3D%3D","integrations":[],"notepad":null},{"id":"56053220","company_id":"908415","creator_id":"3171140","creator_type":"User","creator_name":"Nick Esparza","integration_relation_id":null,"status":"active","archived":false,"public":true,"name":"Jesse \\u0026 Marlene Warnke","address":{"street_address_1":"420 N Rerick Ave","street_address_2":null,"city":"Primghar","state":"IA","postal_code":"51245","country":null},"feature_image":[{"type":"original","uri":"https://img.companycam.com/MWnOmxURWChuDOZhiUeclbvc89pLx4_lYeXsxEUyLbg/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9mMWQ5/NTM1NC0zMTcwLTRl/M2MtOGE5ZS0xNzhk/NzQ4YTM0ZTcuanBn.jpg","url":"https://img.companycam.com/MWnOmxURWChuDOZhiUeclbvc89pLx4_lYeXsxEUyLbg/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9mMWQ5/NTM1NC0zMTcwLTRl/M2MtOGE5ZS0xNzhk/NzQ4YTM0ZTcuanBn.jpg"},{"type":"web","uri":"https://img.companycam.com/XbBZm9Eg9_3r61Qy33nfKW8Aa1gjuag1MRePd8Abg5E/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9mMWQ5/NTM1NC0zMTcwLTRl/M2MtOGE5ZS0xNzhk/NzQ4YTM0ZTcuanBn.jpg","url":"https://img.companycam.com/XbBZm9Eg9_3r61Qy33nfKW8Aa1gjuag1MRePd8Abg5E/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9mMWQ5/NTM1NC0zMTcwLTRl/M2MtOGE5ZS0xNzhk/NzQ4YTM0ZTcuanBn.jpg"},{"type":"thumbnail","uri":"https://img.companycam.com/mJLRn1plwIZB1eKCB3w782GWEOd0ZbA_QL4DOISFC8o/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9mMWQ5/NTM1NC0zMTcwLTRl/M2MtOGE5ZS0xNzhk/NzQ4YTM0ZTcuanBn.jpg","url":"https://img.companycam.com/mJLRn1plwIZB1eKCB3w782GWEOd0ZbA_QL4DOISFC8o/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9mMWQ5/NTM1NC0zMTcwLTRl/M2MtOGE5ZS0xNzhk/NzQ4YTM0ZTcuanBn.jpg"}],"slug":"xqVPPAHraUGwSEAN","project_url":"https://app.companycam.com/projects/56053220","public_url":"https://app.companycam.com/timeline/xqVPPAHraUGwSEAN","coordinates":{"lat":43.09003050805708,"lon":-95.62396366149187},"geofence":[],"primary_contact":null,"created_at":1697064216,"updated_at":1697064572,"embedded_project_url":"https://app.companycam.com/embed/projects/xqVPPAHraUGwSEAN","photo_count":3,"capture_photo_deeplink":"ccam://camera/56053220/SmVzc2UgJiBNYXJsZW5lIFdhcm5rZQ%3D%3D","integrations":[],"notepad":null},{"id":"55882323","company_id":"908415","creator_id":"3074041","creator_type":"User","creator_name":"Doug Charko","integration_relation_id":null,"status":"active","archived":false,"public":true,"name":"James Redden","address":{"street_address_1":"420 Linn St","street_address_2":null,"city":"Le Mars","state":"IA","postal_code":"51031","country":null},"feature_image":[{"type":"original","uri":"https://img.companycam.com/v20ZejgpiEO2HbKhX4x4APj29RgUdnmEoSpdjoFLHBE/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8yOWRm/ZGYyNi1hNzU2LTRk/MGQtODc4ZS1jMzRh/ZTUzM2IzMWMuanBn.jpg","url":"https://img.companycam.com/v20ZejgpiEO2HbKhX4x4APj29RgUdnmEoSpdjoFLHBE/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8yOWRm/ZGYyNi1hNzU2LTRk/MGQtODc4ZS1jMzRh/ZTUzM2IzMWMuanBn.jpg"},{"type":"web","uri":"https://img.companycam.com/puKsTYQMOTfquXTU99dIX49sahxnBhLJ80DwbZMjDTU/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8yOWRm/ZGYyNi1hNzU2LTRk/MGQtODc4ZS1jMzRh/ZTUzM2IzMWMuanBn.jpg","url":"https://img.companycam.com/puKsTYQMOTfquXTU99dIX49sahxnBhLJ80DwbZMjDTU/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8yOWRm/ZGYyNi1hNzU2LTRk/MGQtODc4ZS1jMzRh/ZTUzM2IzMWMuanBn.jpg"},{"type":"thumbnail","uri":"https://img.companycam.com/s2g_APlqvlwW6V6ktZ1O0JXaCdXJNOr7U1vhp9gTSFs/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8yOWRm/ZGYyNi1hNzU2LTRk/MGQtODc4ZS1jMzRh/ZTUzM2IzMWMuanBn.jpg","url":"https://img.companycam.com/s2g_APlqvlwW6V6ktZ1O0JXaCdXJNOr7U1vhp9gTSFs/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8yOWRm/ZGYyNi1hNzU2LTRk/MGQtODc4ZS1jMzRh/ZTUzM2IzMWMuanBn.jpg"}],"slug":"Eo9arT2vmJcVWZan","project_url":"https://app.companycam.com/projects/55882323","public_url":"https://app.companycam.com/timeline/Eo9arT2vmJcVWZan","coordinates":{"lat":42.897422581659,"lon":-96.31025293841958},"geofence":[],"primary_contact":null,"created_at":1696620657,"updated_at":1696620772,"embedded_project_url":"https://app.companycam.com/embed/projects/Eo9arT2vmJcVWZan","photo_count":3,"capture_photo_deeplink":"ccam://camera/55882323/SmFtZXMgUmVkZGVu","integrations":[],"notepad":null},{"id":"53765865","company_id":"908415","creator_id":"3058494","creator_type":"User","creator_name":"Devin OBrien","integration_relation_id":null,"status":"active","archived":false,"public":true,"name":"Hoge, Jim \\u0026 Sue 7/10/23","address":{"street_address_1":"4203 31st St","street_address_2":null,"city":"Columbus","state":"Nebraska","postal_code":"68601","country":"US"},"feature_image":[],"slug":"TAkEDwX5EG5kAck4","project_url":"https://app.companycam.com/projects/53765865","public_url":"https://app.companycam.com/timeline/TAkEDwX5EG5kAck4","coordinates":{"lat":41.44620279999999,"lon":-97.3797877},"geofence":[],"primary_contact":null,"created_at":1692050427,"updated_at":1692050427,"embedded_project_url":"https://app.companycam.com/embed/projects/TAkEDwX5EG5kAck4","photo_count":0,"capture_photo_deeplink":"ccam://camera/53765865/SG9nZSwgSmltICYgU3VlIDcvMTAvMjM%3D","integrations":[],"notepad":null},{"id":"51756890","company_id":"908415","creator_id":"3058494","creator_type":"User","creator_name":"Devin OBrien","integration_relation_id":null,"status":"active","archived":false,"public":true,"name":"Lauer, Chris \\u0026 Tanae 5/22/23","address":{"street_address_1":"77131 County Rd 420","street_address_2":null,"city":"Cozad","state":"Nebraska","postal_code":"69130","country":"US"},"feature_image":[],"slug":"EirpmXVaoVNfHVTx","project_url":"https://app.companycam.com/projects/51756890","public_url":"https://app.companycam.com/timeline/EirpmXVaoVNfHVTx","coordinates":{"lat":41.009448,"lon":-99.9953613},"geofence":[],"primary_contact":null,"created_at":1687373453,"updated_at":1688921815,"embedded_project_url":"https://app.companycam.com/embed/projects/EirpmXVaoVNfHVTx","photo_count":0,"capture_photo_deeplink":"ccam://camera/51756890/TGF1ZXIsIENocmlzICYgVGFuYWUgNS8yMi8yMw%3D%3D","integrations":[],"notepad":null},{"id":"51749448","company_id":"908415","creator_id":"3058494","creator_type":"User","creator_name":"Devin OBrien","integration_relation_id":null,"status":"active","archived":false,"public":true,"name":"Wheeler, Jim \\u0026 Mickee 5/12/23","address":{"street_address_1":"42073 Drive #775","street_address_2":null,"city":"Callaway","state":"Ne","postal_code":"68825","country":null},"feature_image":[{"type":"original","uri":"https://img.companycam.com/mUlhmFSKQg0OklUv5mtEgHzZ_XbKDBv7Le7BHJKWrK0/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8yODY5/NTMwNi1jOWRkLTQx/N2YtOTIzZi04M2Y0/N2UyNWY0MGMuanBn.jpg","url":"https://img.companycam.com/mUlhmFSKQg0OklUv5mtEgHzZ_XbKDBv7Le7BHJKWrK0/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8yODY5/NTMwNi1jOWRkLTQx/N2YtOTIzZi04M2Y0/N2UyNWY0MGMuanBn.jpg"},{"type":"web","uri":"https://img.companycam.com/H5j1VaYXoUoLuAUS15FZoyqanYMEvsdca5bVGt-D5Xg/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8yODY5/NTMwNi1jOWRkLTQx/N2YtOTIzZi04M2Y0/N2UyNWY0MGMuanBn.jpg","url":"https://img.companycam.com/H5j1VaYXoUoLuAUS15FZoyqanYMEvsdca5bVGt-D5Xg/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8yODY5/NTMwNi1jOWRkLTQx/N2YtOTIzZi04M2Y0/N2UyNWY0MGMuanBn.jpg"},{"type":"thumbnail","uri":"https://img.companycam.com/PvXqg1olmD3GJXScc0pg3gVpJBmkdZOPSOQZVjT5pZY/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8yODY5/NTMwNi1jOWRkLTQx/N2YtOTIzZi04M2Y0/N2UyNWY0MGMuanBn.jpg","url":"https://img.companycam.com/PvXqg1olmD3GJXScc0pg3gVpJBmkdZOPSOQZVjT5pZY/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8yODY5/NTMwNi1jOWRkLTQx/N2YtOTIzZi04M2Y0/N2UyNWY0MGMuanBn.jpg"}],"slug":"dM46xQdys7PCb7QF","project_url":"https://app.companycam.com/projects/51749448","public_url":"https://app.companycam.com/timeline/dM46xQdys7PCb7QF","coordinates":{"lat":41.2919504,"lon":-99.92262129999999},"geofence":[],"primary_contact":null,"created_at":1687367640,"updated_at":1688853304,"embedded_project_url":"https://app.companycam.com/embed/projects/dM46xQdys7PCb7QF","photo_count":1,"capture_photo_deeplink":"ccam://camera/51749448/V2hlZWxlciwgSmltICYgTWlja2VlIDUvMTIvMjM%3D","integrations":[],"notepad":null},{"id":"49595957","company_id":"908415","creator_id":"3058494","creator_type":"User","creator_name":"Devin OBrien","integration_relation_id":null,"status":"deleted","archived":false,"public":true,"name":null,"address":{"street_address_1":"420 W Gourley St","street_address_2":null,"city":"Lincoln","state":"NE","postal_code":"68521","country":null},"feature_image":[],"slug":"7jhiMcLRx7Kz4jKN","project_url":"https://app.companycam.com/projects/49595957","public_url":"https://app.companycam.com/timeline/7jhiMcLRx7Kz4jKN","coordinates":{"lat":40.862645725249955,"lon":-96.73036951571703},"geofence":[],"primary_contact":null,"created_at":1682591226,"updated_at":1684100385,"embedded_project_url":"https://app.companycam.com/embed/projects/7jhiMcLRx7Kz4jKN","photo_count":0,"capture_photo_deeplink":"ccam://camera/49595957/NDIwIFcgR291cmxleSBTdA%3D%3D","integrations":[],"notepad":null}]');

        Test.startTest();
        CompanyCamAPI ccAPI = new CompanyCamAPI();
        String CompanyCamProjectId = ccAPI.FilterCompanyCamProjectList(response1,Lat,Lng);
        Test.stopTest();
        System.assertEquals(CompanyCamProjectId,'77032344');
    }
    @IsTest
    public static void TestLinkCompanyCamToOpp(){
        enableTestMode(); // ✅ Bypass real callout
        Opportunity o = [SELECT Id, Name, StageName, CloseDate,
                Opportunity_Property__r.Address__Street__s,
                Opportunity_Property__r.Address__City__s,
                Opportunity_Property__r.Address__StateCode__s,
                Opportunity_Property__r.Address__PostalCode__s,
                Opportunity_Property__r.Address__CountryCode__s,
                Opportunity_Property__r.Address__c
        FROM Opportunity
        LIMIT 1];

        //PostVCMock
        String CreateCompanyCamMockBody = '{"id":"77032344","company_id":"908415","creator_id":"3058494","creator_type":"User","creator_name":"Devin OBrien","integration_relation_id":null,"status":"active","archived":false,"public":true,"name":"Anderson, Dave \\u0026 Nadean Household – 420 West 5th Street Tea, SD – 12/7/2023","address":{"street_address_1":"420 West 5th Street","street_address_2":null,"city":"Tea","state":"SD","postal_code":"57064","country":"US"},"feature_image":[],"slug":"AWJmG71iTRYDRmRY","project_url":"https://app.companycam.com/projects/77032344","public_url":"https://app.companycam.com/timeline/AWJmG71iTRYDRmRY","coordinates":{"lat":43.4430416,"lon":-96.84100439999999},"geofence":[],"primary_contact":null,"created_at":1738118263,"updated_at":1738134707,"embedded_project_url":"https://app.companycam.com/embed/projects/AWJmG71iTRYDRmRY","photo_count":0,"capture_photo_deeplink":"ccam://camera/77032344/QW5kZXJzb24sIERhdmUgJiBOYWRlYW4gSG91c2Vob2xkIOKAkyA0MjAgV2VzdCA1dGggU3RyZWV0IFRlYSwgU0Qg4oCTIDEyLzcvMjAyMw%3D%3D","integrations":[{"type":"Salesforce","relation_id":null}],"notepad":null}';
        MockHttpResponse CreateCompanyCamProjectMockRes = new MockHttpResponse(200,'Created',CreateCompanyCamMockBody);

        //LoginTestMock
        String GetCompanyCamLabelsMockBody = '[]';
        MockHttpResponse GetCompanyCamLabelsMockRes = new MockHttpResponse(200, 'OK',GetCompanyCamLabelsMockBody);

        //StartSessionMock
        String GetCompanyCamCommentsMockBody = '[{"id":"35570829","commentable_id":"77032344","commentable_type":"Location","status":"active","content":"beep boop","creator_id":"3058494","creator_type":"User","creator_name":"Devin OBrien","created_at":1738181439,"updated_at":1738181439},{"id":"35559735","commentable_id":"77032344","commentable_type":"Location","status":"active","content":"test","creator_id":"3058494","creator_type":"User","creator_name":"Devin OBrien","created_at":1738144994,"updated_at":1738144995},{"id":"35559661","commentable_id":"77032344","commentable_type":"Location","status":"active","content":"test\'\\n\\ntest test\\n\\ntest etst test","creator_id":"3058494","creator_type":"User","creator_name":"Devin OBrien","created_at":1738134905,"updated_at":1738134906},{"id":"35559660","commentable_id":"77032344","commentable_type":"Location","status":"active","content":"test 2","creator_id":"3058494","creator_type":"User","creator_name":"Devin OBrien","created_at":1738134896,"updated_at":1738134897},{"id":"35559497","commentable_id":"77032344","commentable_type":"Location","status":"active","content":"test","creator_id":"3058494","creator_type":"User","creator_name":"Devin OBrien","created_at":1738126539,"updated_at":1738134707}]';
        MockHttpResponse GetCompanyCamCommentsMockRes = new MockHttpResponse(200,'No Content',GetCompanyCamCommentsMockBody);

        //CheckSessionMock
        String RetrieveCompanyCamProjectListMockBody = '[{"id":"77032344","company_id":"908415","creator_id":"3058494","creator_type":"User","creator_name":"Devin OBrien","integration_relation_id":null,"status":"active","archived":false,"public":true,"name":"Anderson, Dave \\u0026 Nadean Household – 420 West 5th Street Tea, SD – 12/7/2023","address":{"street_address_1":"420 West 5th Street","street_address_2":null,"city":"Tea","state":"SD","postal_code":"57064","country":"US"},"feature_image":[],"slug":"AWJmG71iTRYDRmRY","project_url":"https://app.companycam.com/projects/77032344","public_url":"https://app.companycam.com/timeline/AWJmG71iTRYDRmRY","coordinates":{"lat":43.4430416,"lon":-96.84100439999999},"geofence":[],"primary_contact":null,"created_at":1738118263,"updated_at":1738134707,"embedded_project_url":"https://app.companycam.com/embed/projects/AWJmG71iTRYDRmRY","photo_count":0,"capture_photo_deeplink":"ccam://camera/77032344/QW5kZXJzb24sIERhdmUgJiBOYWRlYW4gSG91c2Vob2xkIOKAkyA0MjAgV2VzdCA1dGggU3RyZWV0IFRlYSwgU0Qg4oCTIDEyLzcvMjAyMw%3D%3D","integrations":[{"type":"Salesforce","relation_id":null}],"notepad":null},{"id":"77033925","company_id":"908415","creator_id":"3058494","creator_type":"User","creator_name":"Devin OBrien","integration_relation_id":null,"status":"deleted","archived":false,"public":true,"name":"Anderson, Dave \\u0026 Nadean Household – 420 West 5th Street Tea, SD – 12/7/2023","address":{"street_address_1":null,"street_address_2":null,"city":"Tea","state":"South Dakota","postal_code":null,"country":"US"},"feature_image":[],"slug":"MLiQBvGZ7rM8L3Kv","project_url":"https://app.companycam.com/projects/77033925","public_url":"https://app.companycam.com/timeline/MLiQBvGZ7rM8L3Kv","coordinates":{"lat":43.44306,"lon":-96.84099},"geofence":[],"primary_contact":null,"created_at":1738140188,"updated_at":1738140209,"embedded_project_url":"https://app.companycam.com/embed/projects/MLiQBvGZ7rM8L3Kv","photo_count":0,"capture_photo_deeplink":"ccam://camera/77033925/QW5kZXJzb24sIERhdmUgJiBOYWRlYW4gSG91c2Vob2xkIOKAkyA0MjAgV2VzdCA1dGggU3RyZWV0IFRlYSwgU0Qg4oCTIDEyLzcvMjAyMw%3D%3D","integrations":[{"type":"Salesforce","relation_id":null}],"notepad":null},{"id":"76158214","company_id":"908415","creator_id":"3223766","creator_type":"User","creator_name":"Ben Rathjen","integration_relation_id":null,"status":"deleted","archived":false,"public":true,"name":"Brandon Jackson \\u0026 Megan Jackson – 420 U.S. 20 O\'Neill, NE – 11/5/2024","address":{"street_address_1":"420 U.S. 20","street_address_2":null,"city":"O\'Neill","state":"NE","postal_code":"68763","country":null},"feature_image":[],"slug":"qxcZFXMDiAWsnWmL","project_url":"https://app.companycam.com/projects/76158214","public_url":"https://app.companycam.com/timeline/qxcZFXMDiAWsnWmL","coordinates":{"lat":42.4519625,"lon":-98.6288723},"geofence":[],"primary_contact":null,"created_at":1736449881,"updated_at":1736449936,"embedded_project_url":"https://app.companycam.com/embed/projects/qxcZFXMDiAWsnWmL","photo_count":0,"capture_photo_deeplink":"ccam://camera/76158214/QnJhbmRvbiBKYWNrc29uICYgTWVnYW4gSmFja3NvbiDigJMgNDIwIFUuUy4gMjAgTydOZWlsbCwgTkUg4oCTIDExLzUvMjAyNA%3D%3D","integrations":[{"type":"Salesforce","relation_id":null}],"notepad":null},{"id":"69862057","company_id":"908415","creator_id":"3091179","creator_type":"User","creator_name":"Dylan Murphy","integration_relation_id":null,"status":"active","archived":false,"public":true,"name":"Becky Skala","address":{"street_address_1":"4204 H Ave","street_address_2":null,"city":"Kearney","state":"NE","postal_code":"68847","country":null},"feature_image":[{"type":"original","uri":"https://img.companycam.com/7InaQKGNJuwOkNjKuODR439-3BkqrcaPyB_1pDBhxSE/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9hNDIx/MzczZS1kOGQ4LTQ5/NjktYjk2NS00NzYw/YTRhY2I4NWEuanBn.jpg","url":"https://img.companycam.com/7InaQKGNJuwOkNjKuODR439-3BkqrcaPyB_1pDBhxSE/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9hNDIx/MzczZS1kOGQ4LTQ5/NjktYjk2NS00NzYw/YTRhY2I4NWEuanBn.jpg"},{"type":"web","uri":"https://img.companycam.com/cArm8hfFFfjqN6E-wEpHnPR4qkZBB8QXa5qJDYiI14Q/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9hNDIx/MzczZS1kOGQ4LTQ5/NjktYjk2NS00NzYw/YTRhY2I4NWEuanBn.jpg","url":"https://img.companycam.com/cArm8hfFFfjqN6E-wEpHnPR4qkZBB8QXa5qJDYiI14Q/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9hNDIx/MzczZS1kOGQ4LTQ5/NjktYjk2NS00NzYw/YTRhY2I4NWEuanBn.jpg"},{"type":"thumbnail","uri":"https://img.companycam.com/RuVg-XhXo_sUWVmsH0SCfZ5lG1sBRJ78nBjb4-_yErc/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9hNDIx/MzczZS1kOGQ4LTQ5/NjktYjk2NS00NzYw/YTRhY2I4NWEuanBn.jpg","url":"https://img.companycam.com/RuVg-XhXo_sUWVmsH0SCfZ5lG1sBRJ78nBjb4-_yErc/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9hNDIx/MzczZS1kOGQ4LTQ5/NjktYjk2NS00NzYw/YTRhY2I4NWEuanBn.jpg"}],"slug":"gzDu87k2c8J1ctC6","project_url":"https://app.companycam.com/projects/69862057","public_url":"https://app.companycam.com/timeline/gzDu87k2c8J1ctC6","coordinates":{"lat":40.7163727,"lon":-99.071089},"geofence":[],"primary_contact":null,"created_at":1725052482,"updated_at":1725052577,"embedded_project_url":"https://app.companycam.com/embed/projects/gzDu87k2c8J1ctC6","photo_count":3,"capture_photo_deeplink":"ccam://camera/69862057/QmVja3kgU2thbGE%3D","integrations":[],"notepad":null},{"id":"69165478","company_id":"908415","creator_id":"3059118","creator_type":"User","creator_name":"Sheldon Mausbach","integration_relation_id":null,"status":"active","archived":false,"public":true,"name":"Larsen, Norm 8/17/24","address":{"street_address_1":"4200 Savage St","street_address_2":null,"city":"Council Bluffs","state":"IA","postal_code":"51501","country":null},"feature_image":[{"type":"original","uri":"https://img.companycam.com/D33OsydH_79sr3S_eCFtViVGtn6fO5Q_KnD6FeZEjc8/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8xYTVj/YTkyZC1kOWZiLTQx/MGEtYTRjMy1jMTRj/MzQ2NDZmN2YuanBn.jpg","url":"https://img.companycam.com/D33OsydH_79sr3S_eCFtViVGtn6fO5Q_KnD6FeZEjc8/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8xYTVj/YTkyZC1kOWZiLTQx/MGEtYTRjMy1jMTRj/MzQ2NDZmN2YuanBn.jpg"},{"type":"web","uri":"https://img.companycam.com/Zi7F4waX58ta_7NBNEw2D8-9fYNd3nMe7bbY4CTqkEQ/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8xYTVj/YTkyZC1kOWZiLTQx/MGEtYTRjMy1jMTRj/MzQ2NDZmN2YuanBn.jpg","url":"https://img.companycam.com/Zi7F4waX58ta_7NBNEw2D8-9fYNd3nMe7bbY4CTqkEQ/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8xYTVj/YTkyZC1kOWZiLTQx/MGEtYTRjMy1jMTRj/MzQ2NDZmN2YuanBn.jpg"},{"type":"thumbnail","uri":"https://img.companycam.com/Klu5LbsCI9RcYZnyBvhfI3WL2wzjs3y5QxpFRhvZ4vY/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8xYTVj/YTkyZC1kOWZiLTQx/MGEtYTRjMy1jMTRj/MzQ2NDZmN2YuanBn.jpg","url":"https://img.companycam.com/Klu5LbsCI9RcYZnyBvhfI3WL2wzjs3y5QxpFRhvZ4vY/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8xYTVj/YTkyZC1kOWZiLTQx/MGEtYTRjMy1jMTRj/MzQ2NDZmN2YuanBn.jpg"}],"slug":"2iGADErVGCsHYVbA","project_url":"https://app.companycam.com/projects/69165478","public_url":"https://app.companycam.com/timeline/2iGADErVGCsHYVbA","coordinates":{"lat":41.2174998,"lon":-95.8930094},"geofence":[],"primary_contact":null,"created_at":1723909983,"updated_at":1723913285,"embedded_project_url":"https://app.companycam.com/embed/projects/2iGADErVGCsHYVbA","photo_count":8,"capture_photo_deeplink":"ccam://camera/69165478/TGFyc2VuLCBOb3JtIDgvMTcvMjQ%3D","integrations":[],"notepad":null},{"id":"62892437","company_id":"908415","creator_id":"3171140","creator_type":"User","creator_name":"Nick Esparza","integration_relation_id":null,"status":"active","archived":false,"public":true,"name":"James \\u0026 Wendy Wilkins - 4/20/24","address":{"street_address_1":"203 E 53rd St Pl","street_address_2":null,"city":"Kearney","state":"NE","postal_code":"68847","country":null},"feature_image":[{"type":"original","uri":"https://img.companycam.com/J-YxKbNIB1e3XtFbQtUzFRJ0B2Jn9ipUzrDeSsByveg/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS80YWJm/MjZiZi1mNDY0LTRm/M2MtOTczNC0wNWYx/N2JhYTJlMmIuanBn.jpg","url":"https://img.companycam.com/J-YxKbNIB1e3XtFbQtUzFRJ0B2Jn9ipUzrDeSsByveg/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS80YWJm/MjZiZi1mNDY0LTRm/M2MtOTczNC0wNWYx/N2JhYTJlMmIuanBn.jpg"},{"type":"web","uri":"https://img.companycam.com/czAuIztw_kPtSS9ou-ZSfty4QCa4aWXt6xu5lKMAE78/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS80YWJm/MjZiZi1mNDY0LTRm/M2MtOTczNC0wNWYx/N2JhYTJlMmIuanBn.jpg","url":"https://img.companycam.com/czAuIztw_kPtSS9ou-ZSfty4QCa4aWXt6xu5lKMAE78/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS80YWJm/MjZiZi1mNDY0LTRm/M2MtOTczNC0wNWYx/N2JhYTJlMmIuanBn.jpg"},{"type":"thumbnail","uri":"https://img.companycam.com/iY0eG77S5iCHTLKgzxxeaQLkzkiu3_5xrm20RZXZeZk/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS80YWJm/MjZiZi1mNDY0LTRm/M2MtOTczNC0wNWYx/N2JhYTJlMmIuanBn.jpg","url":"https://img.companycam.com/iY0eG77S5iCHTLKgzxxeaQLkzkiu3_5xrm20RZXZeZk/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS80YWJm/MjZiZi1mNDY0LTRm/M2MtOTczNC0wNWYx/N2JhYTJlMmIuanBn.jpg"}],"slug":"hbR1ZUKRZGFeRsVk","project_url":"https://app.companycam.com/projects/62892437","public_url":"https://app.companycam.com/timeline/hbR1ZUKRZGFeRsVk","coordinates":{"lat":40.72601358910474,"lon":-99.07842691987753},"geofence":[],"primary_contact":null,"created_at":1713625078,"updated_at":1716315254,"embedded_project_url":"https://app.companycam.com/embed/projects/hbR1ZUKRZGFeRsVk","photo_count":1,"capture_photo_deeplink":"ccam://camera/62892437/SmFtZXMgJiBXZW5keSBXaWxraW5zIC0gNC8yMC8yNA%3D%3D","integrations":[],"notepad":null},{"id":"56153502","company_id":"908415","creator_id":"3059118","creator_type":"User","creator_name":"Sheldon Mausbach","integration_relation_id":null,"status":"active","archived":false,"public":true,"name":"Niewohner, Peg (10/13/23)","address":{"street_address_1":"4209 S 13th St","street_address_2":null,"city":"Norfolk","state":"NE","postal_code":"68701","country":null},"feature_image":[{"type":"original","uri":"https://img.companycam.com/XeLeCIcxXgoeWVtxkY9Uf8zApq_7B01bTHaRh4RGRzE/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9jZjZl/ZDY4YS04NmE1LTQ4/ZmQtYjJkZS00MzBl/NWZkNTUyNTAuanBn.jpg","url":"https://img.companycam.com/XeLeCIcxXgoeWVtxkY9Uf8zApq_7B01bTHaRh4RGRzE/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9jZjZl/ZDY4YS04NmE1LTQ4/ZmQtYjJkZS00MzBl/NWZkNTUyNTAuanBn.jpg"},{"type":"web","uri":"https://img.companycam.com/81rap0lkld5iuVTdq2kYx2RVXX4xBFz8di7B2ZUiN9w/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9jZjZl/ZDY4YS04NmE1LTQ4/ZmQtYjJkZS00MzBl/NWZkNTUyNTAuanBn.jpg","url":"https://img.companycam.com/81rap0lkld5iuVTdq2kYx2RVXX4xBFz8di7B2ZUiN9w/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9jZjZl/ZDY4YS04NmE1LTQ4/ZmQtYjJkZS00MzBl/NWZkNTUyNTAuanBn.jpg"},{"type":"thumbnail","uri":"https://img.companycam.com/rdgSqUuFcPkrC5GPMSDCIW1f4oL89Sv0hqPZ9sTprNE/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9jZjZl/ZDY4YS04NmE1LTQ4/ZmQtYjJkZS00MzBl/NWZkNTUyNTAuanBn.jpg","url":"https://img.companycam.com/rdgSqUuFcPkrC5GPMSDCIW1f4oL89Sv0hqPZ9sTprNE/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9jZjZl/ZDY4YS04NmE1LTQ4/ZmQtYjJkZS00MzBl/NWZkNTUyNTAuanBn.jpg"}],"slug":"xPuiEH5R3d5CWm4g","project_url":"https://app.companycam.com/projects/56153502","public_url":"https://app.companycam.com/timeline/xPuiEH5R3d5CWm4g","coordinates":{"lat":41.98123799999999,"lon":-97.425934},"geofence":[],"primary_contact":{"id":"1810069","email":"","name":"Peg Niewohner","phone_number":"4026400998","created_at":1697229021,"company_id":"908415","project_id":"56153502","updated_at":1697229021},"created_at":1697228987,"updated_at":1697235552,"embedded_project_url":"https://app.companycam.com/embed/projects/xPuiEH5R3d5CWm4g","photo_count":6,"capture_photo_deeplink":"ccam://camera/56153502/Tmlld29obmVyLCBQZWcgKDEwLzEzLzIzKQ%3D%3D","integrations":[],"notepad":null},{"id":"56053220","company_id":"908415","creator_id":"3171140","creator_type":"User","creator_name":"Nick Esparza","integration_relation_id":null,"status":"active","archived":false,"public":true,"name":"Jesse \\u0026 Marlene Warnke","address":{"street_address_1":"420 N Rerick Ave","street_address_2":null,"city":"Primghar","state":"IA","postal_code":"51245","country":null},"feature_image":[{"type":"original","uri":"https://img.companycam.com/MWnOmxURWChuDOZhiUeclbvc89pLx4_lYeXsxEUyLbg/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9mMWQ5/NTM1NC0zMTcwLTRl/M2MtOGE5ZS0xNzhk/NzQ4YTM0ZTcuanBn.jpg","url":"https://img.companycam.com/MWnOmxURWChuDOZhiUeclbvc89pLx4_lYeXsxEUyLbg/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9mMWQ5/NTM1NC0zMTcwLTRl/M2MtOGE5ZS0xNzhk/NzQ4YTM0ZTcuanBn.jpg"},{"type":"web","uri":"https://img.companycam.com/XbBZm9Eg9_3r61Qy33nfKW8Aa1gjuag1MRePd8Abg5E/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9mMWQ5/NTM1NC0zMTcwLTRl/M2MtOGE5ZS0xNzhk/NzQ4YTM0ZTcuanBn.jpg","url":"https://img.companycam.com/XbBZm9Eg9_3r61Qy33nfKW8Aa1gjuag1MRePd8Abg5E/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9mMWQ5/NTM1NC0zMTcwLTRl/M2MtOGE5ZS0xNzhk/NzQ4YTM0ZTcuanBn.jpg"},{"type":"thumbnail","uri":"https://img.companycam.com/mJLRn1plwIZB1eKCB3w782GWEOd0ZbA_QL4DOISFC8o/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9mMWQ5/NTM1NC0zMTcwLTRl/M2MtOGE5ZS0xNzhk/NzQ4YTM0ZTcuanBn.jpg","url":"https://img.companycam.com/mJLRn1plwIZB1eKCB3w782GWEOd0ZbA_QL4DOISFC8o/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS9mMWQ5/NTM1NC0zMTcwLTRl/M2MtOGE5ZS0xNzhk/NzQ4YTM0ZTcuanBn.jpg"}],"slug":"xqVPPAHraUGwSEAN","project_url":"https://app.companycam.com/projects/56053220","public_url":"https://app.companycam.com/timeline/xqVPPAHraUGwSEAN","coordinates":{"lat":43.09003050805708,"lon":-95.62396366149187},"geofence":[],"primary_contact":null,"created_at":1697064216,"updated_at":1697064572,"embedded_project_url":"https://app.companycam.com/embed/projects/xqVPPAHraUGwSEAN","photo_count":3,"capture_photo_deeplink":"ccam://camera/56053220/SmVzc2UgJiBNYXJsZW5lIFdhcm5rZQ%3D%3D","integrations":[],"notepad":null},{"id":"55882323","company_id":"908415","creator_id":"3074041","creator_type":"User","creator_name":"Doug Charko","integration_relation_id":null,"status":"active","archived":false,"public":true,"name":"James Redden","address":{"street_address_1":"420 Linn St","street_address_2":null,"city":"Le Mars","state":"IA","postal_code":"51031","country":null},"feature_image":[{"type":"original","uri":"https://img.companycam.com/v20ZejgpiEO2HbKhX4x4APj29RgUdnmEoSpdjoFLHBE/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8yOWRm/ZGYyNi1hNzU2LTRk/MGQtODc4ZS1jMzRh/ZTUzM2IzMWMuanBn.jpg","url":"https://img.companycam.com/v20ZejgpiEO2HbKhX4x4APj29RgUdnmEoSpdjoFLHBE/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8yOWRm/ZGYyNi1hNzU2LTRk/MGQtODc4ZS1jMzRh/ZTUzM2IzMWMuanBn.jpg"},{"type":"web","uri":"https://img.companycam.com/puKsTYQMOTfquXTU99dIX49sahxnBhLJ80DwbZMjDTU/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8yOWRm/ZGYyNi1hNzU2LTRk/MGQtODc4ZS1jMzRh/ZTUzM2IzMWMuanBn.jpg","url":"https://img.companycam.com/puKsTYQMOTfquXTU99dIX49sahxnBhLJ80DwbZMjDTU/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8yOWRm/ZGYyNi1hNzU2LTRk/MGQtODc4ZS1jMzRh/ZTUzM2IzMWMuanBn.jpg"},{"type":"thumbnail","uri":"https://img.companycam.com/s2g_APlqvlwW6V6ktZ1O0JXaCdXJNOr7U1vhp9gTSFs/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8yOWRm/ZGYyNi1hNzU2LTRk/MGQtODc4ZS1jMzRh/ZTUzM2IzMWMuanBn.jpg","url":"https://img.companycam.com/s2g_APlqvlwW6V6ktZ1O0JXaCdXJNOr7U1vhp9gTSFs/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8yOWRm/ZGYyNi1hNzU2LTRk/MGQtODc4ZS1jMzRh/ZTUzM2IzMWMuanBn.jpg"}],"slug":"Eo9arT2vmJcVWZan","project_url":"https://app.companycam.com/projects/55882323","public_url":"https://app.companycam.com/timeline/Eo9arT2vmJcVWZan","coordinates":{"lat":42.897422581659,"lon":-96.31025293841958},"geofence":[],"primary_contact":null,"created_at":1696620657,"updated_at":1696620772,"embedded_project_url":"https://app.companycam.com/embed/projects/Eo9arT2vmJcVWZan","photo_count":3,"capture_photo_deeplink":"ccam://camera/55882323/SmFtZXMgUmVkZGVu","integrations":[],"notepad":null},{"id":"53765865","company_id":"908415","creator_id":"3058494","creator_type":"User","creator_name":"Devin OBrien","integration_relation_id":null,"status":"active","archived":false,"public":true,"name":"Hoge, Jim \\u0026 Sue 7/10/23","address":{"street_address_1":"4203 31st St","street_address_2":null,"city":"Columbus","state":"Nebraska","postal_code":"68601","country":"US"},"feature_image":[],"slug":"TAkEDwX5EG5kAck4","project_url":"https://app.companycam.com/projects/53765865","public_url":"https://app.companycam.com/timeline/TAkEDwX5EG5kAck4","coordinates":{"lat":41.44620279999999,"lon":-97.3797877},"geofence":[],"primary_contact":null,"created_at":1692050427,"updated_at":1692050427,"embedded_project_url":"https://app.companycam.com/embed/projects/TAkEDwX5EG5kAck4","photo_count":0,"capture_photo_deeplink":"ccam://camera/53765865/SG9nZSwgSmltICYgU3VlIDcvMTAvMjM%3D","integrations":[],"notepad":null},{"id":"51756890","company_id":"908415","creator_id":"3058494","creator_type":"User","creator_name":"Devin OBrien","integration_relation_id":null,"status":"active","archived":false,"public":true,"name":"Lauer, Chris \\u0026 Tanae 5/22/23","address":{"street_address_1":"77131 County Rd 420","street_address_2":null,"city":"Cozad","state":"Nebraska","postal_code":"69130","country":"US"},"feature_image":[],"slug":"EirpmXVaoVNfHVTx","project_url":"https://app.companycam.com/projects/51756890","public_url":"https://app.companycam.com/timeline/EirpmXVaoVNfHVTx","coordinates":{"lat":41.009448,"lon":-99.9953613},"geofence":[],"primary_contact":null,"created_at":1687373453,"updated_at":1688921815,"embedded_project_url":"https://app.companycam.com/embed/projects/EirpmXVaoVNfHVTx","photo_count":0,"capture_photo_deeplink":"ccam://camera/51756890/TGF1ZXIsIENocmlzICYgVGFuYWUgNS8yMi8yMw%3D%3D","integrations":[],"notepad":null},{"id":"51749448","company_id":"908415","creator_id":"3058494","creator_type":"User","creator_name":"Devin OBrien","integration_relation_id":null,"status":"active","archived":false,"public":true,"name":"Wheeler, Jim \\u0026 Mickee 5/12/23","address":{"street_address_1":"42073 Drive #775","street_address_2":null,"city":"Callaway","state":"Ne","postal_code":"68825","country":null},"feature_image":[{"type":"original","uri":"https://img.companycam.com/mUlhmFSKQg0OklUv5mtEgHzZ_XbKDBv7Le7BHJKWrK0/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8yODY5/NTMwNi1jOWRkLTQx/N2YtOTIzZi04M2Y0/N2UyNWY0MGMuanBn.jpg","url":"https://img.companycam.com/mUlhmFSKQg0OklUv5mtEgHzZ_XbKDBv7Le7BHJKWrK0/rs:fit:4032:4032/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8yODY5/NTMwNi1jOWRkLTQx/N2YtOTIzZi04M2Y0/N2UyNWY0MGMuanBn.jpg"},{"type":"web","uri":"https://img.companycam.com/H5j1VaYXoUoLuAUS15FZoyqanYMEvsdca5bVGt-D5Xg/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8yODY5/NTMwNi1jOWRkLTQx/N2YtOTIzZi04M2Y0/N2UyNWY0MGMuanBn.jpg","url":"https://img.companycam.com/H5j1VaYXoUoLuAUS15FZoyqanYMEvsdca5bVGt-D5Xg/rs:fit:400:400/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8yODY5/NTMwNi1jOWRkLTQx/N2YtOTIzZi04M2Y0/N2UyNWY0MGMuanBn.jpg"},{"type":"thumbnail","uri":"https://img.companycam.com/PvXqg1olmD3GJXScc0pg3gVpJBmkdZOPSOQZVjT5pZY/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8yODY5/NTMwNi1jOWRkLTQx/N2YtOTIzZi04M2Y0/N2UyNWY0MGMuanBn.jpg","url":"https://img.companycam.com/PvXqg1olmD3GJXScc0pg3gVpJBmkdZOPSOQZVjT5pZY/rs:fit:250:250/q:80/aHR0cHM6Ly9jb21w/YW55Y2FtLXBlbmRp/bmcuczMuYW1hem9u/YXdzLmNvbS8yODY5/NTMwNi1jOWRkLTQx/N2YtOTIzZi04M2Y0/N2UyNWY0MGMuanBn.jpg"}],"slug":"dM46xQdys7PCb7QF","project_url":"https://app.companycam.com/projects/51749448","public_url":"https://app.companycam.com/timeline/dM46xQdys7PCb7QF","coordinates":{"lat":41.2919504,"lon":-99.92262129999999},"geofence":[],"primary_contact":null,"created_at":1687367640,"updated_at":1688853304,"embedded_project_url":"https://app.companycam.com/embed/projects/dM46xQdys7PCb7QF","photo_count":1,"capture_photo_deeplink":"ccam://camera/51749448/V2hlZWxlciwgSmltICYgTWlja2VlIDUvMTIvMjM%3D","integrations":[],"notepad":null},{"id":"49595957","company_id":"908415","creator_id":"3058494","creator_type":"User","creator_name":"Devin OBrien","integration_relation_id":null,"status":"deleted","archived":false,"public":true,"name":null,"address":{"street_address_1":"420 W Gourley St","street_address_2":null,"city":"Lincoln","state":"NE","postal_code":"68521","country":null},"feature_image":[],"slug":"7jhiMcLRx7Kz4jKN","project_url":"https://app.companycam.com/projects/49595957","public_url":"https://app.companycam.com/timeline/7jhiMcLRx7Kz4jKN","coordinates":{"lat":40.862645725249955,"lon":-96.73036951571703},"geofence":[],"primary_contact":null,"created_at":1682591226,"updated_at":1684100385,"embedded_project_url":"https://app.companycam.com/embed/projects/7jhiMcLRx7Kz4jKN","photo_count":0,"capture_photo_deeplink":"ccam://camera/49595957/NDIwIFcgR291cmxleSBTdA%3D%3D","integrations":[],"notepad":null}]';
        MockHttpResponse RetrieveCompanyCamProjectListMockRes =  new MockHttpResponse(200,'OK',RetrieveCompanyCamProjectListMockBody);

        Map<String, HttpCalloutMock> endpoint2TestResp = new Map<String,HttpCalloutMock>();
        endpoint2TestResp.put('https://app.companycam.com/v2/projects',CreateCompanyCamProjectMockRes);
        endpoint2TestResp.put('https://app.companycam.com/v2/projects/77032344/labels',GetCompanyCamLabelsMockRes);
        endpoint2TestResp.put('https://app.companycam.com/v2/projects/77032344/comments',GetCompanyCamCommentsMockRes);
        endpoint2TestResp.put('https://app.companycam.com/v2/projects?query=420',RetrieveCompanyCamProjectListMockRes);

        MultiRequestFive9Mocks multiRequestCompanyCamMocks = new MultiRequestFive9Mocks(endpoint2TestResp);

        Test.setMock(HttpCalloutMock.class, multiRequestCompanyCamMocks);
        List<Id> OpIds = new List<Id>();
        OpIds.add(o.Id);

        Test.startTest();
        CompanyCamAPI api = new CompanyCamAPI();
        api.LinkCompanyCamWithOpportunity1(OpIds);
        Test.stopTest();

        System.Assert.isTrue(true);
    }
    @IsTest
    public static void TestFilterCreatedCompanyCamProjectForCompanyCamId(){
        HttpResponse res = new HttpResponse();
        res.setBody('{"id":"77032344","company_id":"908415","creator_id":"3058494","creator_type":"User","creator_name":"Devin OBrien","integration_relation_id":null,"status":"active","archived":false,"public":true,"name":"Anderson, Dave \\u0026 Nadean Household – 420 West 5th Street Tea, SD – 12/7/2023","address":{"street_address_1":"420 West 5th Street","street_address_2":null,"city":"Tea","state":"SD","postal_code":"57064","country":"US"},"feature_image":[],"slug":"AWJmG71iTRYDRmRY","project_url":"https://app.companycam.com/projects/77032344","public_url":"https://app.companycam.com/timeline/AWJmG71iTRYDRmRY","coordinates":{"lat":43.4430416,"lon":-96.84100439999999},"geofence":[],"primary_contact":null,"created_at":1738118263,"updated_at":1738134707,"embedded_project_url":"https://app.companycam.com/embed/projects/AWJmG71iTRYDRmRY","photo_count":0,"capture_photo_deeplink":"ccam://camera/77032344/QW5kZXJzb24sIERhdmUgJiBOYWRlYW4gSG91c2Vob2xkIOKAkyA0MjAgV2VzdCA1dGggU3RyZWV0IFRlYSwgU0Qg4oCTIDEyLzcvMjAyMw%3D%3D","integrations":[{"type":"Salesforce","relation_id":null}],"notepad":null}');
        Test.startTest();
        String CompanyCamId = CompanyCamAPI.FilterCreatedCompanyCamProjectForCompanyCamId(res);
        Test.stopTest();
        System.assertEquals(CompanyCamId,'77032344');
    }
    @isTest
    static void testMakeTopicsKeepable() {
        // Prepare test data
        List<String> topicNames = new List<String>{'Salesforce', 'Apex', 'Integration'};
        Map<String, Id> topicMap = new Map<String, Id>{
                'salesforce' => Id.valueOf('001000000000001AAA'),
                'apex' => Id.valueOf('001000000000002AAA'),
                'integration' => Id.valueOf('001000000000003AAA')
        };

        // Call the method
        Map<Id, String> result = CompanyCamAPI.MakeTopicsKeepable(topicNames, topicMap);

        // Assertions
        System.assertEquals(3, result.size(), 'The result map should have 3 entries');
        System.assertEquals('salesforce', result.get(Id.valueOf('001000000000001AAA')), 'Salesforce topic mismatch');
        System.assertEquals('apex', result.get(Id.valueOf('001000000000002AAA')), 'Apex topic mismatch');
        System.assertEquals('integration', result.get(Id.valueOf('001000000000003AAA')), 'Integration topic mismatch');
    }
    @isTest
    static void testMakeTopicNamesCreatable() {
        // Prepare test data
        Map<String, Id> topicMap = new Map<String, Id>{
                'salesforce' => Id.valueOf('001000000000001AAA'),
                'apex' => Id.valueOf('001000000000002AAA')
        };

        Set<String> allTopics = new Set<String>{'Salesforce', 'Apex', 'Integration', 'AI'};

        // Call the method
        Set<String> result = CompanyCamAPI.MakeTopicNamesCreatable(topicMap, allTopics);

        // Assertions
        System.assertEquals(2, result.size(), 'The result set should contain 2 topics that are not in topicMap');
        System.assert(result.contains('Integration'), 'Integration should be creatable');
        System.assert(result.contains('AI'), 'AI should be creatable');

        // Edge Case: All topics already exist in the map
        Set<String> existingTopics = new Set<String>{'Salesforce', 'Apex'};
        Set<String> noCreatableTopics = CompanyCamAPI.MakeTopicNamesCreatable(topicMap, existingTopics);

        System.assertEquals(0, noCreatableTopics.size(), 'The result set should be empty when all topics already exist');

        // Edge Case: Empty input set
        Set<String> emptyTopics = new Set<String>();
        Set<String> emptyResult = CompanyCamAPI.MakeTopicNamesCreatable(topicMap, emptyTopics);

        System.assertEquals(0, emptyResult.size(), 'The result set should be empty when given an empty input set');
    }
    @isTest
    static void testMakeTopicAssignmentNamesCreateable() {
        // Prepare test data
        List<String> oldTopicNames = new List<String>{'Salesforce', 'Apex', 'Integration'};
        List<String> topicNames = new List<String>{'Salesforce', 'Apex', 'AI', 'Cloud'};

        // Call the method
        List<String> result = CompanyCamAPI.MakeTopicAssignmentNamesCreateable(oldTopicNames, topicNames);

        // Assertions
        System.assertEquals(2, result.size(), 'The result list should contain 2 topics that are not in oldTopicNames');
        System.assert(result.contains('AI'), 'AI should be creatable');
        System.assert(result.contains('Cloud'), 'Cloud should be creatable');

        // Edge Case: No new topics
        List<String> noNewTopics = new List<String>{'Salesforce', 'Apex', 'Integration'};
        List<String> emptyResult = CompanyCamAPI.MakeTopicAssignmentNamesCreateable(oldTopicNames, noNewTopics);

        System.assertEquals(0, emptyResult.size(), 'The result list should be empty when no new topics are found');

        // Edge Case: Empty new topic list
        List<String> emptyTopicNames = new List<String>();
        List<String> emptyNewResult = CompanyCamAPI.MakeTopicAssignmentNamesCreateable(oldTopicNames, emptyTopicNames);

        System.assertEquals(0, emptyNewResult.size(), 'The result list should be empty when given an empty new topic list');

        // Edge Case: Old topic list is empty (all topics should be considered creatable)
        List<String> allCreatableTopics = CompanyCamAPI.MakeTopicAssignmentNamesCreateable(new List<String>(), topicNames);

        System.assertEquals(4, allCreatableTopics.size(), 'All topics should be creatable if oldTopicNames is empty');
    }
    @isTest
    static void testMakeTopicCreateableTopicAssignments() {
        // Prepare test data
        Id opId = Id.valueOf('001000000000001AAA'); // Sample record ID

        Map<String, Id> topicMap = new Map<String, Id>{
                'salesforce' => Id.valueOf('002000000000001AAA'),
                'apex' => Id.valueOf('002000000000002AAA'),
                'integration' => Id.valueOf('002000000000003AAA')
        };

        List<String> topicAssignmentNamesCreatable = new List<String>{'Salesforce', 'Apex'};

        // Call the method
        List<TopicAssignment> result = CompanyCamAPI.MakeTopicCreateableTopicAssignments(opId, topicMap, topicAssignmentNamesCreatable);

        // Assertions
        System.assertEquals(2, result.size(), 'The result list should contain 2 TopicAssignments');
        System.debug(topicMap);
        System.debug(result);
        System.assertEquals(topicMap.get('salesforce'), result[0].TopicId, 'First TopicAssignment should have correct TopicId');
        System.assertEquals(opId, result[0].EntityId, 'First TopicAssignment should have correct EntityId');

        System.assertEquals(topicMap.get('apex'), result[1].TopicId, 'Second TopicAssignment should have correct TopicId');
        System.assertEquals(opId, result[1].EntityId, 'Second TopicAssignment should have correct EntityId');

        // Edge Case: No new topics to assign
        List<String> emptyCreatableTopics = new List<String>();
        List<TopicAssignment> emptyResult = CompanyCamAPI.MakeTopicCreateableTopicAssignments(opId, topicMap, emptyCreatableTopics);

        System.assertEquals(0, emptyResult.size(), 'The result list should be empty when there are no topics to assign');

        // Edge Case: Topic name not found in the map
        List<String> invalidTopics = new List<String>{'UnknownTopic'};
        List<TopicAssignment> invalidResult = CompanyCamAPI.MakeTopicCreateableTopicAssignments(opId, topicMap, invalidTopics);

        System.assertEquals(1, invalidResult.size(), 'The method should create a TopicAssignment even if the topic does not exist in the map');
        System.assertEquals(null, invalidResult[0].TopicId, 'Invalid topic should result in null TopicId');
        System.assertEquals(opId, invalidResult[0].EntityId, 'Invalid topic should still have the correct EntityId');
    }
    @isTest
    static void testMakeTopicsCreatable() {
        // Prepare test data: Existing topics in the map
        Map<String, Id> topicMap = new Map<String, Id>{
                'salesforce' => Id.valueOf('001000000000001AAA'),
                'apex' => Id.valueOf('001000000000002AAA')
        };

        // List of topics to check
        List<String> topicNames = new List<String>{'Salesforce', 'Apex', 'Integration', 'Cloud'};

        // Call the method
        List<Topic> result = CompanyCamAPI.MakeTopicsCreatable(topicMap, topicNames);

        // Assertions
        System.assertEquals(2, result.size(), 'The result list should contain only new topics');

        System.assertEquals('Integration', result[0].Name, 'First topic should be Integration');
        System.assertEquals('Cloud', result[1].Name, 'Second topic should be Cloud');

        // Edge Case: No new topics (all exist in topicMap)
        List<String> allExistingTopics = new List<String>{'Salesforce', 'Apex'};
        List<Topic> noNewTopics = CompanyCamAPI.MakeTopicsCreatable(topicMap, allExistingTopics);

        System.assertEquals(0, noNewTopics.size(), 'The result list should be empty if all topics already exist');

        // Edge Case: Empty input list
        List<String> emptyTopicList = new List<String>();
        List<Topic> emptyResult = CompanyCamAPI.MakeTopicsCreatable(topicMap, emptyTopicList);

        System.assertEquals(0, emptyResult.size(), 'The result list should be empty for an empty input list');

        // Edge Case: Topic names with different casing
        List<String> caseInsensitiveTopics = new List<String>{'salesforce', 'APEX', 'Machine Learning'};
        List<Topic> caseResult = CompanyCamAPI.MakeTopicsCreatable(topicMap, caseInsensitiveTopics);

        System.assertEquals(1, caseResult.size(), 'Only Machine Learning should be creatable');
        System.assertEquals('Machine Learning', caseResult[0].Name, 'Case-insensitive check should not create duplicates');
    }
//    @isTest
//    static void testMakeMapsAPIOptions() {
//        // Create a mock Property__c record with an address
//        Property__c testProperty = new Property__c();
//        testProperty.Address__Street__s = '123 Main St';
//        testProperty.Address__City__s = 'Springfield';
//        testProperty.Address__StateCode__s = 'IL';
//
//        // Call the method
//        Map<String, Object> result = CompanyCamAPI.MakeMapsAPIOptions(testProperty);
//
//        // Assertions
//        System.assertNotEquals(null, result, 'The result map should not be null');
//        System.assertEquals('1', result.get('version'), 'The version should be set to 1');
//        System.assertEquals('123 Main St, Springfield, IL', result.get('address'), 'The address should be correctly formatted');
//    }

}